(this.webpackJsonpworkout_analysis=this.webpackJsonpworkout_analysis||[]).push([[0],{223:function(e,t,n){},254:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(45),s=n.n(c),a=(n(223),n(7)),i=n(27),o=n(37),l=n(10),u=n.n(l),j=n(17),d=n(29),b=n(2),h=function(e){var t=e.setNotification,n=e.submitCredentials,c=e.setUser,s=Object(r.useState)(""),i=Object(a.a)(s,2),o=i[0],l=i[1],h=Object(r.useState)(""),x=Object(a.a)(h,2),O=x[0],m=x[1],p={width:"400px",padding:"0",marginBottom:"55px",border:"none",borderBottom:"1px solid black"};return Object(b.jsx)("form",{style:{paddingTop:"40px",display:"flex",alignItems:"center"},onSubmit:function(){var e=Object(j.a)(u.a.mark((function e(r){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,n({username:o,password:O});case 3:(s=e.sent)?c(s):t({color:"red",message:"Wrong username or password :("});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(b.jsxs)("div",{className:"credentialBox",children:[Object(b.jsxs)("div",{className:"credentialBox__inputContainer",children:[Object(b.jsx)("h1",{style:{marginBottom:"80px"},className:"HomeRoute a-routeFadeIn",children:"Log in"}),Object(b.jsx)("input",{style:p,value:o,placeholder:"Username",onChange:function(e){l(e.target.value)}}),Object(b.jsx)("input",{type:"password",style:p,value:O,placeholder:"Password",onChange:function(e){m(e.target.value)}})]}),Object(b.jsxs)("div",{className:"credentialBox__submission",children:[Object(b.jsx)("button",{className:"themed",style:{width:"400px",height:"40px"},children:"Log in"}),Object(b.jsxs)("p",{children:[" Don't have an account? ",Object(b.jsx)(d.b,{style:{color:"#ff8933"},to:"/register",children:" Sign up "})]})]})]})})},x=function(e){var t=e.setNotification,n=e.submitCredentials,c=Object(i.f)(),s=Object(r.useState)(""),o=Object(a.a)(s,2),l=o[0],h=o[1],x=Object(r.useState)(""),O=Object(a.a)(x,2),m=O[0],p=O[1];return Object(b.jsx)("form",{style:{paddingTop:"40px",display:"flex",alignItems:"center"},onSubmit:function(){var e=Object(j.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),l&&m){e.next=5;break}t({color:"red",message:"Please fill out both fields"}),e.next=13;break;case 5:return e.next=7,n({username:l,password:m});case 7:if(!e.sent){e.next=12;break}c.push("/"),t({color:"white",message:"User created!"}),e.next=13;break;case 12:t({color:"red",message:"Username already exists"});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(b.jsxs)("div",{className:"credentialBox",children:[Object(b.jsxs)("div",{className:"credentialBox__inputContainer",children:[Object(b.jsx)("h1",{style:{marginBottom:"80px"},className:"HomeRoute a-routeFadeIn",children:" Register"}),Object(b.jsx)("input",{className:"credentialBox__input",value:l,placeholder:"Username",onChange:function(e){h(e.target.value)}}),Object(b.jsx)("input",{className:"credentialBox__input",value:m,placeholder:"Password",onChange:function(e){p(e.target.value)}})]}),Object(b.jsxs)("div",{className:"credentialBox__submission",children:[Object(b.jsx)("button",{className:"themed",style:{width:"400px",height:"40px"},children:"Register"}),Object(b.jsxs)("p",{children:[" Have an account? ",Object(b.jsx)(d.b,{style:{color:"#ff8933"},to:"/",children:" Log in "})]})]})]})})},O=n(116),m=function(e){var t=e.user,n=e.logout,r=Object(i.f)();return t?Object(b.jsxs)("div",{style:{position:"fixed",display:"flex",alignItems:"center",height:"80px",width:"100%"},children:[Object(b.jsx)("h3",{style:{marginLeft:"80px",marginRight:"22px",color:"white"},children:t.username}),Object(b.jsx)("h3",{style:{paddingLeft:"22px",color:"white",borderLeft:"1px solid white",cursor:"pointer"},onClick:function(){n(),r.push("/")},children:Object(b.jsx)("a",{children:"Sign out"})})]}):Object(b.jsxs)(O.a,{style:{display:"flex",justifyContent:"center",backgroundColor:"#eeeeee",color:"black"},children:[Object(b.jsx)(O.a.Brand,{children:Object(b.jsx)("img",{style:{width:100},src:"https://svgsilh.com/svg_v2/1539614.svg"})}),Object(b.jsxs)(O.a.Text,{children:[Object(b.jsx)("h2",{style:{display:"inline"},children:"Welcome to "}),Object(b.jsx)("h2",{style:{color:"#ff8933",display:"inline"},children:"Fitness Express"})]})]})},p=n(8),f=n(34),g=n.n(f),y=null,v=function(e){y="bearer ".concat(e)},w=function(){return y},k="/api/workout",C=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:w()}},e.next=3,g.a.get(k,t);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:w()}},e.prev=1,e.next=4,g.a.post(k,t,n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),N={resetRegiment:function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:w()}},e.next=3,g.a.put("".concat(k,"/regiment"),null,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sendWorkout:S,getUserWorkouts:C,setRegiment:function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:w()}},e.next=3,g.a.patch("".concat(k,"/regiment"),t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addRoutine:function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:w()}},e.next=3,g.a.post("".concat(k,"/routines"),t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setRoutines:function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:w()}},e.next=3,g.a.put("".concat(k,"/routines"),t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=n(26),_=function(e){var t=e.day,n=e.currentRegiment,c=e.setCurrentRegiment,s=Object(r.useState)(""),i=Object(a.a)(s,2),o=i[0],l=i[1];return console.log(o),Object(b.jsx)("form",{className:"regimentForm__dayGrid",onSubmit:function(e){e.preventDefault(),o.trim()&&(n[t].includes((o.charAt(0).toUpperCase()+o.slice(1)).trim())?console.log("you're already doing that today"):(c(Object(p.a)(Object(p.a)({},n),{},Object(R.a)({},t,n[t].concat((o.charAt(0).toUpperCase()+o.slice(1)).trim())))),l("")))},children:Object(b.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(b.jsx)("h2",{children:t}),Object(b.jsx)("input",{style:{width:"120px"},value:o,name:t,placeholder:"exercise",onChange:function(e){" "!==e.target.value&&l(e.target.value)}}),Object(b.jsx)("button",{className:"themed",style:{margin:"5px",padding:"0px",width:"57px"},type:"submit",children:"add"})]})})},I=function(e){var t=e.currentRegiment,n=e.setCurrentRegiment,r=e.day;return Object(b.jsx)("div",{className:"pageContainer",children:Object(b.jsx)("ul",{children:t[r].map((function(e,c){return Object(b.jsx)("div",{style:{padding:"2px"},children:Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(b.jsx)("p",{style:{margin:"0",marginRight:"6px"},children:e}),Object(b.jsx)("button",{style:{borderRadius:"5px",marginLeft:"auto"},type:"button",onClick:function(){return n(Object(p.a)(Object(p.a)({},t),{},Object(R.a)({},r,t[r].filter((function(t){return t!=e})))))},children:"remove"})]})},"".concat(e).concat(c))}))})},r)},E=n(58),T=function(e){var t=e.backButton,n=e.user,c=e.setUser,s=e.currentRegiment,o=e.setCurrentRegiment,l=Object(r.useState)("hidden"),d=Object(a.a)(l,2),h=d[0],x=d[1],O=Object(i.f)(),m=function(){for(var e in s)if(s[e]&&0===s[e].length)return!0;return!1},f=function(){var e=Object(j.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m()){e.next=9;break}return e.next=3,N.setRegiment(s);case 3:t=e.sent,r=JSON.parse(window.localStorage.getItem("loggedUser")),c(Object(p.a)(Object(p.a)({},n),{},{regIsSet:!0})),window.localStorage.setItem("currentRegiment",JSON.stringify(t)),window.localStorage.setItem("loggedUser",JSON.stringify(Object(p.a)(Object(p.a)({},r),{},{regIsSet:!0}))),O.push("/");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){Object.entries(s).length||O.push("/")}),[]),Object(r.useEffect)((function(){m()?x("hidden"):x("visible")}),[s]),Object(b.jsx)("div",{className:"pageContainer",children:Object(b.jsxs)(E.a,{className:"regimentForm",children:[Object(b.jsxs)("div",{className:" regimentForm__fadeContainer HomeRoute a-routeFadeIn",children:[Object(b.jsx)("h1",{children:"Fill out your weekly regiment"}),Object(b.jsx)("div",{className:"regimentForm__weekContainer",children:Object.keys(s).map((function(e,t){return s[e]?Object(b.jsxs)("div",{className:"regimentForm__dayContainer",children:[Object(b.jsx)(_,{day:e,currentRegiment:s,setCurrentRegiment:o}),Object(b.jsx)(I,{day:e,setCurrentRegiment:o,currentRegiment:s},e)]},t):null}))})]}),Object(b.jsxs)("div",{style:{marginBottom:"5px",marginTop:"auto"},children:[Object(b.jsx)("button",{className:"themed",style:{marginRight:"5px",width:"80px",height:"50px",border:"none",visibility:h},onClick:function(){f()},children:"Save"}),t&&Object(b.jsx)("button",{style:{border:"none",borderRadius:"5px",width:"80px",height:"50px"},onClick:function(){O.push("/")},children:"Back"})]})]})})},D=function(e){var t=e.setNotification,n=e.currentRegiment,r=e.setCurrentRegiment,c=Object(i.f)();return Object(b.jsxs)("div",{style:{overflow:"auto"},children:[Object(b.jsx)(m,{}),Object(b.jsx)(E.a,{children:Object(b.jsxs)("form",{className:"dayForm",children:[Object(b.jsx)("h1",{style:{fontWeight:"bold"},children:"Which days will you be working out on?"}),Object(b.jsx)("div",{className:"dayForm__dayContainer",children:Object.keys(n).map((function(e,t){return Object(b.jsxs)("div",{className:"dayForm__dayBox",children:[Object(b.jsx)("h2",{children:e}),Object(b.jsx)("input",{type:"checkbox",checked:n[e]||"",onChange:function(){var t;console.log(n),n[t=e]?r(Object(p.a)(Object(p.a)({},n),{},Object(R.a)({},t,null))):r(Object(p.a)(Object(p.a)({},n),{},Object(R.a)({},t,[])))}})]},t)}))}),Object(b.jsx)("button",{className:"themed",style:{marginTop:"20px"},onClick:function(e){e.preventDefault();var r=!1;for(var s in n)n[s]&&(r=!0);r?c.push("/athlete/setTargetWorkout"):t({color:"red",message:"Pick at least one day to exercise!"})},children:"Next"})]})})]})},A=function(e){var t=e.setNotification,n=e.user,c=e.setUser,s=Object(i.g)(),l=Object(r.useState)({}),u=Object(a.a)(l,2),j=u[0],d=u[1];return Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("currentRegiment"));d(e)}),[]),Object(b.jsx)(o.TransitionGroup,{style:{height:"100%",flexGrow:"1",display:"flex",flexDirection:"column"},children:Object(b.jsx)(o.CSSTransition,{timeout:{enter:500,exit:200},children:Object(b.jsxs)(i.c,{location:s,children:[Object(b.jsxs)(i.a,{path:"/athlete/setTargetWorkout",children:[" ",Object(b.jsx)(T,{backButton:!0,user:n,setUser:c,currentRegiment:j,setCurrentRegiment:d}),")"]}),Object(b.jsxs)(i.a,{path:"/",children:[" ",Object(b.jsx)(D,{setNotification:t,currentRegiment:j,setCurrentRegiment:d})]})]})},s)})},B="/api/clients",F={addClient:function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:w()}},e.prev=1,e.next=4,g.a.post(B,t,n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),updateClient:function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:w()}},e.prev=1,e.next=4,g.a.patch(B,t,n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},P=function(e){var t=e.setUser,n=Object(r.useState)(null),c=Object(a.a)(n,2),s=c[0],l=c[1],d=Object(r.useState)([]),h=Object(a.a)(d,2),x=h[0],O=h[1],m=Object(r.useState)({name:"",username:"",password:"",validatePassword:""}),f=Object(a.a)(m,2),g=f[0],y=f[1],v=Object(i.f)();Object(r.useEffect)((function(){s&&window.localStorage.setItem("clients",JSON.stringify(s.clients))}),[s]);var w=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.addClient(t);case 2:r=e.sent,l(r),O(x.filter((function(e,t){return n!=t})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"pageContainer",style:{flexDirection:"column"},children:Object(b.jsx)(o.TransitionGroup,{style:{height:"100%"},children:Object(b.jsx)(o.CSSTransition,{timeout:{enter:500,exit:200},children:Object(b.jsxs)(E.a,{className:"regimentForm",children:[Object(b.jsxs)("form",{className:"regimentForm__fadeContainer HomeRoute a-routeFadeIn",onSubmit:function(e){e.preventDefault(),g.name&&g.username&&g.password&&g.password===g.validatePassword&&(O(x.concat(g)),y({name:"",username:"",password:"",validatePassword:""}))},children:[Object(b.jsx)("h1",{children:"Add some of your clients "}),Object(b.jsxs)("div",{style:{marginTop:"40px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{onChange:function(e){y(Object(p.a)(Object(p.a)({},g),{},{name:e.target.value}))},placeholder:g.name||"client name",value:g.name}),Object(b.jsx)("input",{onChange:function(e){y(Object(p.a)(Object(p.a)({},g),{},{password:e.target.value}))},placeholder:g.password||"client password",value:g.password})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{onChange:function(e){y(Object(p.a)(Object(p.a)({},g),{},{username:e.target.value}))},placeholder:g.username||"client username",value:g.username}),Object(b.jsx)("input",{onChange:function(e){y(Object(p.a)(Object(p.a)({},g),{},{validatePassword:e.target.value}))},placeholder:g.validatePassword||"repeat client password",value:g.validatePassword})]}),Object(b.jsx)("button",{type:"submit",className:"themed",style:{margin:"20px",width:"50px",height:"50px"},children:"add"})]}),Object(b.jsx)("h1",{style:{marginTop:"140px"},children:"Clients added:"}),x.map((function(e,t){return Object(b.jsxs)("div",{children:[e.name,Object(b.jsx)("button",{onClick:function(){w(e,t)},style:{marginTop:"140px"},children:"Register"})]},t)}))]}),Object(b.jsx)("button",{onClick:function(){window.localStorage.removeItem("currentRegiment"),window.localStorage.removeItem("userWorkouts"),t(s),v.push("/")},children:"next"})]})},location)})})},W=function(e){var t=e.setNotification,n=e.user,r=e.setUser,c=Object(i.f)();return Object(b.jsx)("div",{style:{overflow:"auto",height:"100%"},children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:"/athlete",children:Object(b.jsx)(A,{setNotification:t,user:n,setUser:r})}),Object(b.jsxs)(i.a,{path:"/trainer",children:[Object(b.jsx)(P,{user:n,setUser:r}),"  "]}),Object(b.jsxs)(i.a,{path:"/",children:[Object(b.jsx)(m,{}),Object(b.jsx)(E.a,{children:Object(b.jsxs)("form",{className:"dayForm",children:[Object(b.jsx)("h1",{style:{fontWeight:"bold"},children:"I am ..."}),Object(b.jsxs)("div",{className:"dayForm__dayContainer",children:[Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),c.push("/trainer")},className:"themed",style:{marginRight:"20px",height:"50px",width:"150px"},children:Object(b.jsx)("h3",{style:{color:"white"},children:"A trainer"})}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),c.push("/athlete")},className:"themed",style:{marginRight:"20px",height:"50px",width:"150px"},children:Object(b.jsx)("h3",{style:{color:"white"},children:"An athlete"})})]})]})})]})]})})},U=n(43),L=n(99),M=function(e){var t=(new Date).getDay();return 0===t?Object.values(e)[6]:Object.values(e)[t-1]},J=function(e){return function(e){var t=[];return e.map((function(e){return e.exercises})).forEach((function(e){t.push.apply(t,Object(L.a)(e))})),t}(e).map((function(e){return e.name}))},H=function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},z=function(e,t){return e.filter((function(e){return new Date(e.date)>=t[0]&&new Date(e.date)<=t[1]}))},Q=function(e,t,n,r){if("daily"===n||"monthly"===n){var c,s,a="daily"===n?function(e){return new Date(e.date).toDateString()}:function(e){return new Date(e.date).toLocaleDateString("default",{month:"long",year:"numeric"})},i="reps"===r?function(e){return e.exercise.sets*e.exercise.reps}:function(e){return e.exercise.weight*e.exercise.sets*e.exercise.reps},o=[];if("reps"===r?e.forEach((function(e){e.exercises.filter((function(e){return e.name==t})).forEach((function(t){o.push({date:e.date,exercise:t})}))})):e.forEach((function(e){e.exercises.filter((function(e){return e.weight&&e.name==t})).forEach((function(t){o.push({date:e.date,exercise:t})}))})),0==o.length)return null;var l=[];return 1==o.length?(s=i(o[0]),[{timeProperty:c=a(o[0]),total:s}]):(o.forEach((function(e,t){0===t?(c=a(e),s=i(e)):c===a(e)?t!==o.length-1?s+=i(e):(s+=i(e),l.push({timeProperty:c,total:s})):(l.push({timeProperty:c,total:s}),c=a(e),s=i(e))})),l)}console.log("Interval is invalid")},G=function(e,t,n){var r=[],c=0;return"reps"===n?(e.forEach((function(e){e.exercises.filter((function(e){return e.name==t})).forEach((function(t){r.push({date:e.date,exercise:t})}))})),r.forEach((function(e){c+=e.exercise.reps*e.exercise.sets}))):(e.forEach((function(e){e.exercises.filter((function(e){return e.weight&&e.name==t})).forEach((function(t){r.push({date:e.date,exercise:t})}))})),r.forEach((function(e){c+=e.exercise.weight*e.exercise.reps*e.exercise.sets}))),0===c?null:[{timeProperty:"total",total:c||null}]},K=n(114),$=n(77),Y=n(191),V=function(e){var t=e.workout;if(t){var n=new Date(t.date),r=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{style:{backgroundColor:"",color:"black",padding:"10px",borderRadius:"20px",marginTop:"40px"},children:n.toDateString()+", "+n.getHours()+":"+r}),Object(b.jsx)(Y.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{style:{backgroundColor:"black"},children:[Object(b.jsx)("th",{className:"col-1",children:Object(b.jsx)("h2",{children:"Exercise"})}),Object(b.jsx)("th",{className:"col-1",children:Object(b.jsx)("h2",{children:"Repetitions"})}),Object(b.jsx)("th",{className:"col-1",children:Object(b.jsx)("h2",{children:"Sets"})}),Object(b.jsx)("th",{className:"col-1",children:Object(b.jsx)("h2",{children:"Weight"})})]}),t.exercises.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"col-1",children:Object(b.jsx)("h3",{style:{color:"white"},children:e.name})}),Object(b.jsx)("td",{className:"col-1",children:Object(b.jsx)("h3",{style:{color:"white"},children:e.reps})}),Object(b.jsx)("td",{className:"col-1",children:Object(b.jsx)("h3",{style:{color:"white"},children:e.sets})}),Object(b.jsx)("td",{className:"col-1",children:Object(b.jsx)("h3",{style:{color:"white"},children:e.weight||0})})]},t)}))]})})]})}},q=n(212),X=(n(254),function(e){var t=e.dateRange,n=e.setDateRange,r=e.workouts,c=e.callback;return Object(b.jsx)(q.a,{onChange:function(e){n(e),c(r,e)},value:t,showNeighboringMonth:!0,locale:"en-US",selectRange:!0})}),Z=n(192),ee=function(e){var t=e.callback,n=e.header,r=e.body,c=Object(i.f)();return Object(b.jsxs)("div",{className:"menuCard",children:[Object(b.jsx)("h1",{style:{marginBottom:"57px"},children:Object(b.jsxs)("a",{onClick:function(){c.push("/"),t&&t()},children:[Object(b.jsx)(Z.a,{style:{cursor:"pointer"}}),n]})}),r()]})},te=function(e){var t=e.workouts,n=Object(r.useState)(""),c=Object(a.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(!1),l=Object(a.a)(o,2),u=l[0],j=l[1],d=Object(r.useState)(new Date),h=Object(a.a)(d,2),x=h[0],O=h[1],m=Object(r.useState)(t),p=Object(a.a)(m,2),f=p[0],g=p[1],y=function(e,t){if(u){var n=[];z(e,t).forEach((function(e){H(e.exercises,s).length>0&&n.push(e)})),g(n)}};if(Object(r.useEffect)((function(){u?y(t,x):g(t.map((function(e){if(0!==H(e.exercises,s).length)return e})).filter((function(e){return void 0!=e})))}),[s,u]),0===t.length)return Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"My History",body:function(){return null}}),Object(b.jsx)("div",{style:{marginTop:"80px",display:"flex",flexDirection:"column"},children:Object(b.jsxs)("div",{className:"historyContainer",children:[Object(b.jsx)("h2",{children:"It looks like you's never submitted an exercise!"}),Object(b.jsx)("h4",{style:{marginTop:"40px"},children:"After you submit one, you can start viewing your past workouts here."})]})})]});return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"My History",body:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:"Search by name"}),Object(b.jsx)(K.a,{style:{marginBottom:"40px"},onSubmit:function(e){e.preventDefault()},children:Object(b.jsx)($.a,{type:"text",placeholder:"e.g. pushups",onChange:function(e){i(e.target.value)}})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{style:{marginRight:"20px",display:"inline"},children:"Filter by date"}),Object(b.jsx)("input",{type:"checkbox",value:u,onClick:function(){j(!u)}})]}),Object(b.jsx)(X,{dateRange:x,setDateRange:O,workouts:t,callback:y})]})}}),f&&f.length>0&&Object(b.jsx)("div",{className:"resultPage history",children:Object(b.jsx)("ul",{className:"history__list",style:{display:"flex",flexDirection:"column-reverse",listStyleType:"none"},children:f.map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsx)(V,{workout:e})},t)}))})})]})})},ne=n(46),re=function(e){var t=e.exercise,n=e.setExercise,r=t.weight?"#FF8933":"gray",c={width:"80px",marginLeft:"25px"};return Object(b.jsxs)("div",{style:{paddingBottom:"10px",marginTop:"10px",display:"flex"},children:[Object(b.jsx)("button",{style:{marginRight:"10px",marginBottom:"auto",border:"none",borderRadius:"5px",color:r},onClick:function(){n(Object(p.a)(Object(p.a)({},t),{},{weight:t.weight?null:1}))},children:"KG"})," ",Object(b.jsxs)("div",{style:c,children:[Object(b.jsx)("h5",{children:"Repetitions"}),Object(b.jsx)("input",{className:"statRow__input",type:"number",onChange:function(e){/^[0-9]+$/.test(e.target.value)&&n(Object(p.a)(Object(p.a)({},t),{},Object(R.a)({},"reps",e.target.value)))},value:t.reps})]}),Object(b.jsxs)("div",{style:c,children:[Object(b.jsx)("h5",{children:"Sets"}),Object(b.jsx)("input",{className:"statRow__input",type:"number",onChange:function(e){/^[0-9]+$/.test(e.target.value)&&n(Object(p.a)(Object(p.a)({},t),{},Object(R.a)({},"sets",e.target.value)))},value:t.sets})]}),null!=t.weight&&Object(b.jsxs)("div",{style:c,children:[Object(b.jsx)("h5",{children:"Weight"}),Object(b.jsx)("input",{className:"statRow__input",type:"number",onChange:function(e){/^[0-9]+$/.test(e.target.value)&&n(Object(p.a)(Object(p.a)({},t),{},Object(R.a)({},"weight",e.target.value)))},value:t.weight})," "]})]})},ce=n(193),se=function(e){var t=e.exerciseArray,n=e.newWorkout,r=e.setNewWorkout,c=t[0].name;return Object(b.jsxs)("div",{className:"a-exerciseEntry itemCard",children:[Object(b.jsx)("h5",{children:"Title"}),Object(b.jsxs)("div",{style:{marginBottom:"15px",display:"flex"},children:[Object(b.jsxs)("h3",{style:{display:"inline",color:"black"},children:[c," "]}),Object(b.jsx)("button",{className:"themed",style:{marginLeft:"auto"},onClick:function(){r(n.map((function(e){return c===e[0].name?e.concat({name:c,reps:1,sets:1,weight:null}):e})))},children:"Add set"})]}),Object(b.jsx)("div",{style:{paddingBottom:"25px",borderBottom:"0.5px solid #C4C4C4"},children:t.map((function(e,s){return Object(b.jsxs)("div",{style:{display:"flex"},children:[" ",Object(b.jsx)(re,{exercise:e,setExercise:function(e){r(n.map((function(n){return c===n[0].name?t.map((function(t,n){return s===n?e:t})):n})))}}),t.length>1&&Object(b.jsx)("a",{onClick:function(){r(n.map((function(e){return c===e[0].name?t.filter((function(e,t){return t!=s})):e})))},children:Object(b.jsx)(ce.a,{style:{cursor:"pointer"}})})]},"".concat(e).concat(s))}))})]})},ae=function(e){var t=e.setNotification,n=e.setWorkouts,c=e.daysExercises,s=Object(i.f)();if(!c)return Object(b.jsx)("div",{className:"pageContainer",children:Object(b.jsx)(ee,{header:"My Exercises",body:function(){return Object(b.jsx)("p",{children:"No exercises for today :)"})}})});var o=Object(r.useState)([]),l=Object(a.a)(o,2),d=l[0],h=l[1],x=Object(r.useState)([]),O=Object(a.a)(x,2),m=O[0],p=O[1],f=Object(r.useState)([]),g=Object(a.a)(f,2),y=g[0],v=g[1],w=Object(r.useState)(null),k=Object(a.a)(w,2),C=k[0],S=k[1];Object(r.useEffect)((function(){p(c.map((function(e){return[{name:e,reps:1,sets:1}]}))),h(Object(L.a)(new Set(c)))}),[c]),Object(r.useEffect)((function(){h(Object(L.a)(new Set(c)))}),[]);var R=function(){var e=Object(j.a)(u.a.mark((function e(){var r,c,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],m.forEach((function(e){e.forEach((function(e){r.push(e)}))})),!((c=r.filter((function(e){return 0!=e.sets&&0!=e.reps}))).length>0)){e.next=15;break}if(!(m.filter((function(e,t){return c[t]&&!0})).length>0)){e.next=12;break}return e.next=8,N.sendWorkout({exercises:c});case 8:(a=e.sent)?(i=JSON.parse(window.localStorage.getItem("userWorkouts")),window.localStorage.setItem("userWorkouts",JSON.stringify(i.concat(a))),n(JSON.parse(window.localStorage.getItem("userWorkouts"))),t({color:"white",message:"Workout uploaded successfully"}),s.push("/")):t({color:"red",message:"Something went wrong :("}),e.next=13;break;case 12:console.log("No valid entries");case 13:e.next=16;break;case 15:t({color:"red",message:"Looks like you haven't submitted any exercises!"});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"My Exercises",body:function(){return Object(b.jsxs)(b.Fragment,{children:[d.map((function(e,t){return Object(b.jsxs)("div",{className:"menuItem__removable",children:[Object(b.jsx)("a",{className:"menuItem__text",onClick:function(){S(e)},children:e}),Object(b.jsx)("a",{style:{cursor:"pointer"},onClick:function(){v(y.concat(e)),p(m.filter((function(t){return t[0].name!==e}))),h(d.filter((function(t){return e!==t})))},children:Object(b.jsx)(ne.c,{style:{marginLeft:"auto",marginRight:"15px"}})})]},"".concat(e).concat(t))})),y.length>0&&Object(b.jsx)("h5",{style:{marginTop:"auto",textAlign:"center"},children:"Removed"}),y.map((function(e){return Object(b.jsx)("div",{className:"menuCard__exercise--removed",children:Object(b.jsx)("a",{className:"menuItem__text",onClick:function(){v(y.filter((function(t){return t!=e}))),p(m.concat([[{name:e,reps:1,sets:1,weight:null}]])),h(d.concat(e))},children:e},e)},e)})),Object(b.jsx)("button",{style:{borderRadius:"5px",marginTop:"auto"},onClick:function(){return R(m)},children:"Submit"})]})}}),m.map((function(e,t){if(e[0].name===C)return Object(b.jsxs)("div",{style:{zIndex:"0",marginTop:"80px",display:"flex",flexDirection:"column"},children:["   ",Object(b.jsx)(se,{exerciseArray:e,newWorkout:m,setNewWorkout:p,indexInArray:t})]},t)}))]})},ie={changePassword:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.patch("/api/users/password",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},oe=function(e){var t=e.setNotification,n=e.currentRegiment,c=e.setCurrentRegiment,s=e.user,o=e.setUser,l=Object(r.useState)(""),d=Object(a.a)(l,2),h=d[0],x=d[1],O=Object(r.useState)(""),m=Object(a.a)(O,2),p=m[0],f=m[1],g=Object(r.useState)(""),y=Object(a.a)(g,2),v=y[0],w=y[1],k=Object(r.useState)(""),C=Object(a.a)(k,2),S=C[0],R=C[1],_=Object(i.f)();return Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{callback:function(){c(JSON.parse(window.localStorage.getItem("currentRegiment")))},header:"My Account",body:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("a",{className:"menuCard__account",onClick:function(){x("Reset")},children:"Reset weekly regiment"}),Object(b.jsx)("a",{className:"menuCard__account",onClick:function(){x("Edit")},children:"Edit weekly regiment"}),Object(b.jsx)("a",{className:"menuCard__account",onClick:function(){x("Password")},children:"Change password"})]})}}),h&&Object(b.jsxs)("div",{className:"resultPage account",style:{display:"flex"},children:["Edit"===h&&Object(b.jsx)(T,{user:s,setUser:o,currentRegiment:n,setCurrentRegiment:c}),"Reset"===h&&Object(b.jsxs)("div",{style:{marginTop:"20px"},children:[Object(b.jsx)("h2",{children:"Are you sure you want to reset your weekly regiment?"}),Object(b.jsxs)("h5",{style:{marginTop:"20px"},children:["You'll be redirected to fill out all your weekly exercises from scratch.",Object(b.jsx)("br",{}),"Alternatively, you can simply edit your existing regiment from the other option in the menu."]}),Object(b.jsx)("button",{style:{border:"none",borderRadius:"5px"},onClick:Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.resetRegiment();case 2:t=e.sent,localStorage.setItem("currentRegiment",JSON.stringify(t.currentRegiment)),o(t),_.push("/");case 6:case"end":return e.stop()}}),e)}))),children:"Yes"})]}),"Password"===h&&Object(b.jsxs)("form",{style:{marginTop:"40px",alignItems:"center",width:"100%",display:"flex",flexDirection:"column"},onSubmit:function(){var e=Object(j.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),v!==S){e.next=6;break}return e.next=4,ie.changePassword({username:s.username,currentPassword:p,newPassword:v});case 4:(r=e.sent)?(o(r),t({color:"green",message:"Password changed successfully"})):t({color:"red",message:"Process failed. Wrong password maybe?"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h5",{children:"Current password"}),Object(b.jsx)("input",{style:{marginBottom:"20px"},type:"password",value:p,onChange:function(e){f(e.target.value)},placeholder:"current password"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h5",{children:"New password"}),Object(b.jsx)("input",{style:{marginBottom:"20px"},type:"password",value:S,onChange:function(e){R(e.target.value)},placeholder:"new password"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h5",{children:"Repeat new password"}),Object(b.jsx)("input",{style:{marginBottom:"20px"},type:"password",value:v,onChange:function(e){w(e.target.value)},placeholder:"new password"})]}),Object(b.jsx)("button",{style:{marginTop:"15px",borderRadius:"5px",border:"none"},type:"submit",children:"Change my password"}),Object(b.jsx)("div",{style:{marginTop:"auto",marginBottom:"20px",width:"100%",borderBottom:"0.5px solid #C4C4C4"}})]})]})]})},le=n(20),ue=n(392),je=n(396),de=n(209),be=n(210),he=n(101),xe=n(214),Oe=function(e){var t=e.analysis,n=e.dataKey,r=Object(b.jsxs)(ue.a,{width:600,height:400,data:t,margin:{top:10,right:30,left:0,bottom:0},children:[Object(b.jsx)(je.a,{strokeDasharray:"10 10"}),Object(b.jsx)(de.a,{dataKey:"timeProperty"}),Object(b.jsx)(be.a,{}),Object(b.jsx)(he.a,{}),Object(b.jsx)(xe.a,{type:"monotone",dataKey:n,stroke:"#8884d8",fill:"#8884d8"})]});return t?r:null},me=function(e){var t=e.workouts,n=J(t).filter((function(e,n){return J(t).indexOf(e)===n})),c=Object(r.useState)([]),s=Object(a.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(null),u=Object(a.a)(l,2),j=u[0],d=u[1],h=Object(r.useState)(null),x=Object(a.a)(h,2),O=x[0],m=x[1],p=Object(r.useState)(null),f=Object(a.a)(p,2),g=f[0],y=f[1],v=Object(r.useState)(null),w=Object(a.a)(v,2),k=w[0],C=w[1];if(Object(r.useEffect)((function(){switch(O){case"Daily":C(Q(t,j||i[0],"daily","weight")),y(Q(t,j||i[0],"daily","reps"));break;case"Monthly":C(Q(t,j||i[0],"monthly","weight")),y(Q(t,j||i[0],"monthly","reps"));break;default:C(G(t,j||i[0],"weight")),y(G(t,j||i[0],"reps"))}}),[j,O]),0===t.length)return Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"Performance Analysis",body:function(){return null}}),Object(b.jsxs)("div",{className:"resultPage analysis",children:[Object(b.jsx)("h2",{children:"It looks like you's never submitted an exercise!"}),Object(b.jsx)("h4",{style:{marginTop:"40px"},children:"After you submit one, you can start viewing your progress here, and get various performance stats."})]})]});return Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"Analyse",body:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{placeholder:"exercise",onChange:function(e){o(n.filter((function(t){return t.toLowerCase().includes(e.target.value.toLowerCase())})))}}),i.length<5?Object(b.jsxs)("ul",{className:"analysis__list",children:[i.map((function(e,t){return Object(b.jsxs)("div",{className:"analysis__result",children:[Object(b.jsx)("h5",{children:e}),Object(b.jsxs)(le.a,{children:[Object(b.jsx)(le.a.Toggle,{children:"Analyse"}),Object(b.jsxs)(le.a.Menu,{children:[Object(b.jsx)(le.a.Item,{onClick:function(){m("Daily"),d(i[t])},children:" Daily"}),Object(b.jsx)(le.a.Item,{onClick:function(){m("Monthly"),d(i[t])},children:" Monthly"}),Object(b.jsx)(le.a.Item,{onClick:function(){m("All-Time"),d(i[t])},children:" All-Time"})]})]},"".concat(t,"Button"))]},t)}))," "]}):Object(b.jsx)("h6",{children:"Too many suggestions to show!"})]})}}),"  ",g&&j&&Object(b.jsxs)("div",{className:"resultPage analysis",children:[Object(b.jsx)("h2",{children:O}),Object(b.jsx)("h2",{children:"Total repetitions"}),Object(b.jsx)(Oe,{analysis:g,dataKey:"total"}),k&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Total weight lifted"}),Object(b.jsx)(Oe,{analysis:k,dataKey:"total"})]})]})]})},pe=function(e){var t=e.user,n=e.setUser,c=e.setNotification,s=Object(r.useState)([]),o=Object(a.a)(s,2),l=o[0],u=o[1],j=Object(r.useState)({}),d=Object(a.a)(j,2),h=d[0],x=d[1],O=Object(r.useState)(null),m=Object(a.a)(O,2),p=m[0],f=m[1],g=Object(i.f)();return Object(r.useEffect)((function(){t&&(f(JSON.parse(window.localStorage.getItem("userWorkouts"))),x(JSON.parse(window.localStorage.getItem("currentRegiment"))))}),[t]),Object(r.useEffect)((function(){t&&u(M(h))}),[h]),Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:"/account",children:Object(b.jsx)(oe,{setNotification:c,currentRegiment:h,setCurrentRegiment:x,user:t,setUser:n})}),Object(b.jsx)(i.a,{path:"/dailySubmission",children:Object(b.jsx)(ae,{setNotification:c,setWorkouts:f,daysExercises:l})}),Object(b.jsx)(i.a,{path:"/history",children:Object(b.jsx)(te,{workouts:p})}),Object(b.jsx)(i.a,{path:"/analysis",style:{height:"100%"},children:Object(b.jsx)(me,{workouts:p})}),Object(b.jsxs)(i.a,{path:"/",children:[Object(b.jsx)("div",{className:"pageContainer",children:Object(b.jsxs)("div",{className:"HQ__menu",children:[Object(b.jsx)("div",{className:"HQ__item",onClick:function(){g.push("/dailySubmission")},children:Object(b.jsxs)("h2",{children:["  ",Object(b.jsxs)("a",{children:[" ",Object(b.jsx)(U.a,{})," Submit a Workout "]})]})}),Object(b.jsx)("div",{className:"HQ__item",onClick:function(){g.push("/history")},children:Object(b.jsx)("h2",{children:Object(b.jsxs)("a",{children:[" ",Object(b.jsx)(U.a,{})," My Workout History "]})})}),Object(b.jsx)("div",{className:"HQ__item",onClick:function(){g.push("/analysis")},children:Object(b.jsx)("h2",{children:Object(b.jsxs)("a",{children:[" ",Object(b.jsx)(U.a,{})," Performance Analysis "]})})}),Object(b.jsx)("div",{className:"HQ__item",onClick:function(){g.push("/account")},children:Object(b.jsx)("h2",{children:Object(b.jsxs)("a",{children:[" ",Object(b.jsx)(U.a,{}),"My Account"]})})})]})}),p&&p.length>0?Object(b.jsx)("h1",{className:"HQ__greeting",children:"Welcome Back"}):Object(b.jsx)("h1",{className:"HQ__greeting",children:"Welcome!"})]})]})},fe=function(e){var t=e.clients,n=Object(r.useState)(),c=Object(a.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),l=Object(a.a)(o,2),u=l[0],j=l[1],d=Object(r.useState)([]),h=Object(a.a)(d,2),x=h[0],O=h[1],m=Object(r.useState)(null),p=Object(a.a)(m,2),f=p[0],g=p[1],y=Object(r.useState)(null),v=Object(a.a)(y,2),w=v[0],k=v[1],C=Object(r.useState)(null),S=Object(a.a)(C,2),N=S[0],R=S[1],_=Object(r.useState)(null),I=Object(a.a)(_,2),E=I[0],T=I[1],D=Object(r.useState)(null),A=Object(a.a)(D,2),B=A[0],F=A[1];Object(r.useEffect)((function(){s&&F(s.days&&J(s.days).filter((function(e,t){return J(s.days).indexOf(e)===t})))}),[s]),Object(r.useEffect)((function(){B&&u&&O(B.filter((function(e){return e.toLowerCase().includes(u.toLowerCase())})))}),[B,u]),Object(r.useEffect)((function(){if(s)switch(w){case"Daily":T(Q(s.days,f||x[0],"daily","weight")),R(Q(s.days,f||x[0],"daily","reps"));break;case"Monthly":T(Q(s.days,f||x[0],"monthly","weight")),R(Q(s.days,f||x[0],"monthly","reps"));break;default:T(G(s.days,f||x[0],"weight")),R(G(s.days,f||x[0],"reps"))}}),[s,f,w]);return Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"Analysis",body:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(le.a,{style:{marginBottom:"20px"},children:[Object(b.jsx)(le.a.Toggle,{children:s&&s.username||"Select a client"}),Object(b.jsx)(le.a.Menu,{children:t&&t.map((function(e){return Object(b.jsxs)(le.a.Item,{onClick:function(){i(e)},children:[" ",e.username]},e.username)}))})]}),Object(b.jsx)("input",{placeholder:"exercise",value:u,onChange:function(e){j(e.target.value)}}),x.length<5?Object(b.jsxs)("ul",{className:"analysis__list",children:[x.map((function(e,t){return Object(b.jsxs)("div",{className:"analysis__result",children:[Object(b.jsx)("h5",{children:e}),Object(b.jsxs)(le.a,{children:[Object(b.jsx)(le.a.Toggle,{children:"Analyse"}),Object(b.jsxs)(le.a.Menu,{children:[Object(b.jsx)(le.a.Item,{onClick:function(){k("Daily"),g(x[t])},children:" Daily"}),Object(b.jsx)(le.a.Item,{onClick:function(){k("Monthly"),g(x[t])},children:" Monthly"}),Object(b.jsx)(le.a.Item,{onClick:function(){k("All-Time"),g(x[t])},children:" All-Time"})]})]},"".concat(t,"Button"))]},t)}))," "]}):Object(b.jsx)("h6",{children:"Too many suggestions to show!"})]})}}),"  ",N&&f&&Object(b.jsxs)("div",{className:"resultPage analysis",children:[Object(b.jsx)("h2",{children:w}),Object(b.jsx)("h2",{children:"Total repetitions"}),Object(b.jsx)(Oe,{analysis:N,dataKey:"total"}),E&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Total weight lifted"}),Object(b.jsx)(Oe,{analysis:E,dataKey:"total"})]})]})]})},ge=function(e){var t=e.clients,n=Object(r.useState)(),c=Object(a.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),l=Object(a.a)(o,2),u=l[0],j=l[1],d=Object(r.useState)(!1),h=Object(a.a)(d,2),x=h[0],O=h[1],m=Object(r.useState)(new Date),p=Object(a.a)(m,2),f=p[0],g=p[1],y=Object(r.useState)(null),v=Object(a.a)(y,2),w=v[0],k=v[1],C=function(e,t){if(x){var n=[];z(e,t).forEach((function(e){H(e.exercises,u).length>0&&n.push(e)})),k(n)}};Object(r.useEffect)((function(){s&&(x?C(s.days,f):k(s.days.map((function(e){if(0!==H(e.exercises,u).length)return e})).filter((function(e){return void 0!=e}))))}),[u,x,s]);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"History",body:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(le.a,{style:{marginBottom:"20px"},children:[Object(b.jsx)(le.a.Toggle,{children:s&&s.username||"Select a client"}),Object(b.jsx)(le.a.Menu,{children:t&&t.map((function(e){return Object(b.jsxs)(le.a.Item,{onClick:function(){i(e)},children:[" ",e.username]},e.username)}))})]}),Object(b.jsx)("p",{children:"Search by name"}),Object(b.jsx)(K.a,{style:{marginBottom:"40px"},onSubmit:function(e){e.preventDefault()},children:Object(b.jsx)($.a,{type:"text",placeholder:"e.g. pushups",onChange:function(e){j(e.target.value)}})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{style:{marginRight:"20px",display:"inline"},children:"Filter by date"}),Object(b.jsx)("input",{type:"checkbox",value:x,onClick:function(){O(!x)}})]}),Object(b.jsx)(X,{dateRange:f,setDateRange:g,workouts:s&&s.days,callback:C})]})}}),w&&w.length>0&&Object(b.jsx)("div",{className:"resultPage history",children:Object(b.jsx)("ul",{className:"history__list",style:{display:"flex",flexDirection:"column-reverse",listStyleType:"none"},children:w.map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsx)(V,{workout:e})},t)}))})})]})})},ye=function(e){var t=e.clients,n=e.setClients,c=e.setNotification,s=Object(i.f)(),o=Object(r.useState)([]),l=Object(a.a)(o,2),d=l[0],h=l[1],x=Object(r.useState)(null),O=Object(a.a)(x,2),m=O[0],f=O[1],g=Object(r.useState)([]),y=Object(a.a)(g,2),v=y[0],w=y[1],k=Object(r.useState)([]),C=Object(a.a)(k,2),S=C[0],R=C[1],_=Object(r.useState)(null),I=Object(a.a)(_,2),E=I[0],T=I[1];Object(r.useEffect)((function(){if(m){var e=M(m.currentRegiment);e&&(h(e),w(e.map((function(e){return[{name:e,reps:1,sets:1}]}))))}}),[m]);var D=function(){var e=Object(j.a)(u.a.mark((function e(){var r,a,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],v.forEach((function(e){e.forEach((function(e){r.push(e)}))})),!((a=r.filter((function(e){return 0!=e.sets&&0!=e.reps}))).length>0)){e.next=15;break}if(!(v.filter((function(e,t){return a[t]&&!0})).length>0)){e.next=12;break}return e.next=8,N.sendWorkout({exercises:a,_id:m._id});case 8:(i=e.sent)?(o=Object(p.a)(Object(p.a)({},m),{},{days:m.days.concat(i)}),l=t.filter((function(e){return e._id!==m._id})).concat(o),n(l),c({color:"white",message:"Workout uploaded successfully"}),s.push("/")):c({color:"red",message:"Something went wrong :("}),e.next=13;break;case 12:console.log("No valid entries");case 13:e.next=16;break;case 15:c({color:"red",message:"Looks like you haven't submitted any exercises!"});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"Exercises",body:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(le.a,{style:{marginBottom:"20px"},children:[Object(b.jsx)(le.a.Toggle,{children:m&&m.username||"Select a client"}),Object(b.jsx)(le.a.Menu,{children:t&&t.map((function(e){return Object(b.jsxs)(le.a.Item,{onClick:function(){f(e)},children:[" ",e.username]},e.username)}))})]}),d&&Object(b.jsx)(b.Fragment,{children:d.map((function(e,t){return Object(b.jsxs)("div",{className:"menuItem__removable",children:[Object(b.jsx)("a",{className:"menuItem__text",onClick:function(){T(e)},children:e}),Object(b.jsx)("a",{style:{cursor:"pointer"},onClick:function(){R(S.concat(e)),w(v.filter((function(t){return t[0].name!==e}))),h(d.filter((function(t){return e!==t})))},children:Object(b.jsx)(ne.c,{style:{marginLeft:"auto",marginRight:"15px"}})})]},"".concat(e).concat(t))}))}),S.length>0&&Object(b.jsx)("h5",{style:{marginTop:"auto",textAlign:"center"},children:"Removed"}),S.map((function(e){return Object(b.jsx)("div",{className:"menuCard__exercise--removed",children:Object(b.jsx)("a",{className:"menuItem__text",onClick:function(){R(S.filter((function(t){return t!=e}))),w(v.concat([[{name:e,reps:1,sets:1,weight:null}]])),h(d.concat(e))},children:e},e)},e)})),Object(b.jsx)("button",{style:{borderRadius:"5px",marginTop:"auto"},onClick:function(){return D(v)},children:"Submit"})]})}}),v.map((function(e,t){if(e[0].name===E)return Object(b.jsxs)("div",{style:{zIndex:"0",marginTop:"80px",display:"flex",flexDirection:"column"},children:["   ",Object(b.jsx)(se,{exerciseArray:e,newWorkout:v,setNewWorkout:w,indexInArray:t})]},t)}))]})},ve=function(e){var t=e.day,n=e.routines,c=e.isEditable,s=e.selectedClient,i=e.setSelectedClient,o=e.addExercise,l=e.editExercise,u=e.removeExercise,j=Object(r.useState)(!1),d=Object(a.a)(j,2),h=d[0],x=d[1];return console.log(n),Object(b.jsxs)("div",{style:{marginTop:"20px",borderBottom:"0.5px solid #CECECE"},children:[Object(b.jsxs)("div",{style:{cursor:"pointer",marginTop:"20px",display:"flex",margin:"0px"},children:[Object(b.jsxs)("div",{onClick:function(){return x(!h)},style:{display:"flex",width:"100%"},children:[Object(b.jsx)("h5",{children:t[0]}),h?Object(b.jsx)(ne.a,{style:{marginLeft:"auto"}}):Object(b.jsx)(ne.b,{style:{marginLeft:"auto"}})]}),c&&h&&Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsx)("button",{onClick:function(){o(t)},className:"themed",style:{marginLeft:"15px",display:"inline"},children:"Add"}),Object(b.jsxs)(le.a,{children:[Object(b.jsx)(le.a.Toggle,{children:"Assign routine"}),Object(b.jsx)(le.a.Menu,{children:n.map((function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(le.a.Item,{onClick:function(){i(Object(p.a)(Object(p.a)({},s),{},{currentRegiment:Object(p.a)(Object(p.a)({},s.currentRegiment),{},Object(R.a)({},t[0],e.exercises))}))},children:[" ",e.name]})})}))})]})]})]}),Object(b.jsx)("ul",{style:{listStyle:"none"},children:t[1].map((function(e,n){return c?Object(b.jsx)("div",{style:{margin:"5px",display:"flex"},children:h&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{style:{display:"block"},autoFocus:!0,onBlur:function(e){l(t,n,e.target.value.trim())},onChange:function(e){return l(t,n,e.target.value)},value:e}),Object(b.jsx)("button",{onClick:function(){u(t,n)},children:"remove"})]})},n):Object(b.jsx)("div",{children:h&&Object(b.jsx)("li",{children:e})},n)}))})]})},we=function(e){var t=e.setClients,n=function(){var e=Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.name&&i.username&&i.password&&i.password===i.validatePassword)){e.next=6;break}return e.next=3,F.addClient(i);case 3:n=e.sent,t(n.clients),o({username:"",password:"",validatePassword:""});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=Object(r.useState)({username:"",password:"",validatePassword:""}),s=Object(a.a)(c,2),i=s[0],o=s[1];return Object(b.jsxs)("form",{className:"resultPage",style:{display:"flex",flexDirection:"column",alignItems:"center"},onSubmit:function(e){e.preventDefault(),n(i)},children:[Object(b.jsx)("h1",{children:"Add a client "}),Object(b.jsxs)("div",{style:{marginTop:"40px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(b.jsx)("h1",{children:"Username"}),Object(b.jsx)("input",{onChange:function(e){o(Object(p.a)(Object(p.a)({},i),{},{name:e.target.value}))},placeholder:i.name||"client name",value:i.name}),Object(b.jsx)("input",{onChange:function(e){o(Object(p.a)(Object(p.a)({},i),{},{username:e.target.value}))},placeholder:i.username||"client username",value:i.username})]}),Object(b.jsxs)("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column"},children:[Object(b.jsx)("h1",{children:"Password"}),Object(b.jsx)("input",{onChange:function(e){o(Object(p.a)(Object(p.a)({},i),{},{password:e.target.value}))},placeholder:i.password||"client password",value:i.password}),Object(b.jsx)("input",{onChange:function(e){o(Object(p.a)(Object(p.a)({},i),{},{validatePassword:e.target.value}))},placeholder:i.validatePassword||"repeat client password",value:i.validatePassword})]}),Object(b.jsx)("button",{type:"submit",className:"themed",style:{margin:"20px",width:"50px",height:"50px"},children:"add"})]})]})},ke=n(211),Ce=function(e){var t=e.clients,n=e.setClients,c=e.routines,s=e.setNotification,i=Object(r.useState)(null),o=Object(a.a)(i,2),l=o[0],d=o[1],h=Object(r.useState)(null),x=Object(a.a)(h,2),O=x[0],m=x[1],f=Object(r.useState)(!1),g=Object(a.a)(f,2),y=g[0],v=g[1];Object(r.useEffect)((function(){t&&0==y&&l!==t[O]&&d(t[O])}),[y]),Object(r.useEffect)((function(){v(!1)}),[l&&l.username]);var w=function(e,t,n){y&&d(Object(p.a)(Object(p.a)({},l),{},{currentRegiment:Object(p.a)(Object(p.a)({},l.currentRegiment),{},Object(R.a)({},e[0],e[1].map((function(e,r){return r==t?n.charAt(0).toUpperCase()+n.slice(1):e}))))}))},k=function(e){y&&d(Object(p.a)(Object(p.a)({},l),{},{currentRegiment:Object(p.a)(Object(p.a)({},l.currentRegiment),{},Object(R.a)({},e[0],e[1].concat("")))}))},C=function(e,t){if(y){var n=l.currentRegiment[e[0]].filter((function(e,n){return t!==n}));0===n.length?d(Object(p.a)(Object(p.a)({},l),{},{currentRegiment:Object(p.a)(Object(p.a)({},l.currentRegiment),{},Object(R.a)({},e[0],null))})):d(Object(p.a)(Object(p.a)({},l),{},{currentRegiment:Object(p.a)(Object(p.a)({},l.currentRegiment),{},Object(R.a)({},e[0],n))}))}},S=function(){var e=Object(j.a)(u.a.mark((function e(){var r,c,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,c=Object.entries(l.currentRegiment).map((function(e){if(!e[1]||new Set(e[1]).size==e[1].length){if(e[1]){var t=e[1].filter((function(e){return e.trim()}));return[e[0],0===t.length?null:t]}return[e[0],null]}r=!0})),!r){e.next=6;break}s({color:"red",message:"Looks like you've assigned the same exercise twice in the same day :)"}),e.next=21;break;case 6:return e.prev=6,d(Object(p.a)(Object(p.a)({},l),{},{currentRegiment:Object.fromEntries(c)})),e.next=10,F.updateClient(Object(p.a)(Object(p.a)({},l),{},{currentRegiment:Object.fromEntries(c)}));case 10:a=e.sent,i=t.filter((function(e){return e._id!==a._id})).concat(a),window.localStorage.setItem("clients",JSON.stringify(i)),n(i),v(!1),s({color:"green",message:"Client updated successfully"}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),s({color:"red",message:"Something went wrong :("});case 21:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(){return e.apply(this,arguments)}}();return t?Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"My Clients",body:function(){return Object(b.jsxs)("div",{style:{flexWrap:"wrap",display:"flex"},children:[Object(b.jsx)("div",{onClick:function(){d({username:"",currentRegiment:{Mon:null,Tue:null,Wed:null,Thu:null,Fri:null,Sat:null,Sun:null}})},style:{margin:"10px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.45)",borderRadius:"5px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",height:"200px",width:"155px"},children:Object(b.jsx)(ke.a,{style:{color:"orange",fontSize:"60px"}})}),t.map((function(e,t){return Object(b.jsx)("div",{onClick:function(){y&&console.log("Are you sure?"),d(e),m(t)},style:{margin:"10px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.45)",borderRadius:"5px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",height:"200px",width:"155px"},children:Object(b.jsx)("h5",{children:e.username})},t)}))]})}}),l&&l.username?Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},className:"resultPage clientView",children:[Object(b.jsxs)("div",{className:"client__header",style:{width:"100%",borderBottom:"0.5px solid #CECECE",padding:"40px",display:"flex"},children:[Object(b.jsxs)("div",{className:"client__details",style:{flexGrow:"1",marginRight:"25px",display:"flex",flexDirection:"column"},children:[Object(b.jsx)("h5",{style:{display:"inline"},children:" Username "}),Object(b.jsxs)("p",{style:{display:"inline"},children:[" ",l.username]})]}),Object(b.jsxs)("div",{className:"client__details",style:{display:"flex",flexDirection:"column"},children:[Object(b.jsx)("h5",{style:{display:"inline"},children:" Email "}),Object(b.jsx)("p",{style:{display:"inline"},children:" example@example.com"})]}),Object(b.jsx)("button",{style:{marginLeft:"40px"},onClick:function(){v(!y)},children:y?"Cancel":"Edit"}),y&&Object(b.jsx)("button",{onClick:function(){S()},className:"themed",children:"Save"})]}),Object(b.jsx)("div",{className:"client__regiment",style:{width:"100%",borderBottom:"0.5px solid #CECECE",padding:"40px",display:"flex"},children:Object.entries(l.currentRegiment).map((function(e){var t=e[1]||"";return Object(b.jsxs)("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column",alignItems:"center",margin:"5px"},children:[Object(b.jsxs)("h5",{children:[" ",e[0]," "]}),Object(b.jsx)("input",{value:t,type:"checkbox",onChange:function(){!function(e){y&&(e[1]?d(Object(p.a)(Object(p.a)({},l),{},{currentRegiment:Object(p.a)(Object(p.a)({},l.currentRegiment),{},Object(R.a)({},e[0],null))})):d(Object(p.a)(Object(p.a)({},l),{},{currentRegiment:Object(p.a)(Object(p.a)({},l.currentRegiment),{},Object(R.a)({},e[0],[""]))})))}(e)},readOnly:!1,checked:t})]},e[0])}))}),Object(b.jsx)("div",{style:{width:"100%"},children:Object.entries(l.currentRegiment).map((function(e){return e[1]&&Object(b.jsx)(ve,{setSelectedClient:d,selectedClient:l,day:e,isEditable:y,addExercise:k,editExercise:w,removeExercise:C,routines:c},e[0])}))})]}):Object(b.jsx)(we,{setClients:n,clients:t})]}):Object(b.jsx)("div",{children:"No clients"})},Se=function(e){var t=e.routines,n=e.setRoutines,c=Object(r.useState)(t||JSON.parse(window.localStorage.getItem("routines"))),s=Object(a.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(null),d=Object(a.a)(l,2),h=d[0],x=d[1],O=Object(r.useState)(null),m=Object(a.a)(O,2),f=m[0],g=m[1],y=Object(r.useState)(!1),v=Object(a.a)(y,2),w=v[0],k=v[1],C=function(e,t){w&&x(Object(p.a)(Object(p.a)({},h),{},{exercises:h.exercises.map((function(n,r){return r===e?t.charAt(0).toUpperCase()+t.slice(1):n}))}))},S=function(){var e=Object(j.a)(u.a.mark((function e(t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.filter((function(e,n){return t!=n})),e.next=3,N.setRoutines(r);case 3:c=e.sent,o(c),n(c),window.localStorage.setItem("routines",JSON.stringify(c)),t===f&&x(null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!1),t=i.map((function(e,t){return t===f?h:e})),e.next=4,N.setRoutines(t);case 4:r=e.sent,n(r),o(r),window.localStorage.setItem("routines",JSON.stringify(r)),x(r[f]),console.log(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i&&0==w&&h!==i[f]&&x(i[f])}),[w]),Object(b.jsxs)("div",{className:"pageContainer",children:[Object(b.jsx)(ee,{header:"My Routines",body:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){o(i.concat({name:"New Routine",exercises:[""]}))},children:"Add routine "}),i&&i.map((function(e,t){return Object(b.jsxs)("div",{className:"menuItem__removable",children:[Object(b.jsx)("a",{onClick:function(){x(e),g(t),k(!1)},className:"menuItem__text",children:e.name}),Object(b.jsx)("a",{style:{cursor:"pointer"},onClick:function(){S(t)},children:Object(b.jsx)(ne.c,{style:{marginLeft:"auto",marginRight:"15px"}})})]},"".concat(e.name).concat(t))}))]})}}),h&&Object(b.jsx)("div",{style:{marginTop:"80px"},children:Object(b.jsx)("div",{className:"a-exerciseEntry itemCard",children:w?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:{alignContent:"flexStart",justifyItems:"flexStart",justifyContent:"flexStart",alignItems:"flexStart",display:"flex"},children:[Object(b.jsxs)("div",{style:{display:"flex-inline",flexDirection:"column"},children:[Object(b.jsx)("h2",{children:"Routine name"}),Object(b.jsx)("input",{style:{marginBottom:"30px"},onChange:function(e){x(Object(p.a)(Object(p.a)({},h),{},{name:e.target.value}))},value:h.name||""})]}),Object(b.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(b.jsx)("button",{style:{marginRight:"2px",display:"inline"},className:"themed",onClick:function(){R()},children:"Save"}),Object(b.jsx)("button",{style:{display:"inline"},onClick:function(){k(!w)},children:w?"Cancel":"Edit"})]})]}),Object(b.jsx)("h2",{style:{marginBottom:"0px"},children:"Routine exercises"}),Object(b.jsx)("div",{style:{display:"flex"},children:Object(b.jsx)("button",{className:"themed",style:{marginLeft:"auto"},onClick:function(){x(Object(p.a)(Object(p.a)({},h),{},{exercises:h.exercises.concat("")}))},children:"Add"})}),h&&h.exercises.map((function(e,t){return Object(b.jsxs)("div",{style:{marginBottom:"2px"},children:[Object(b.jsx)("input",{autoFocus:!0,onBlur:function(e){C(t,e.target.value.trim())},onChange:function(e){C(t,e.target.value)},value:e}),Object(b.jsx)("button",{style:{marginLeft:"10px"},onClick:function(){!function(e){x(Object(p.a)(Object(p.a)({},h),{},{exercises:h.exercises.filter((function(t){return t!=e}))}))}(e)},children:"Remove"})]},t)}))]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:{marginBottom:"10px",display:"flex"},children:[Object(b.jsx)("h2",{style:{marginBottom:"0px"},children:h.name}),Object(b.jsx)("button",{style:{marginLeft:"auto",display:"inline"},onClick:function(){k(!w)},children:w?"Cancel":"Edit"})]}),h&&h.exercises.map((function(e,t){return Object(b.jsx)("h5",{children:e},t)}))]})})})]})},Ne=function(e){var t=e.user,n=e.setUser,c=e.setNotification,s=Object(i.f)(),o=Object(r.useState)(null),l=Object(a.a)(o,2),u=l[0],j=l[1],d=Object(r.useState)(null),h=Object(a.a)(d,2),x=h[0],O=h[1];return Object(r.useEffect)((function(){if(t&&t.isTrainer){var e=JSON.parse(window.localStorage.getItem("clients"));e&&j(e),O(JSON.parse(window.localStorage.getItem("routines")))}}),[t]),Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:"/dailySubmission",children:Object(b.jsx)(ye,{clients:u,setClients:j,setNotification:c})}),Object(b.jsx)(i.a,{path:"/history",children:Object(b.jsx)(ge,{clients:u,setClients:j})}),Object(b.jsx)(i.a,{path:"/clients",children:Object(b.jsx)(Ce,{user:t,setUser:n,clients:u,setClients:j,routines:x,setNotification:c})}),Object(b.jsx)(i.a,{path:"/analysis",children:Object(b.jsx)(fe,{clients:u})}),Object(b.jsx)(i.a,{path:"/routines",children:Object(b.jsx)(Se,{user:t,setUser:n,routines:x,setRoutines:O})}),Object(b.jsx)(i.a,{path:"/",children:Object(b.jsx)("div",{className:"pageContainer",children:Object(b.jsxs)("div",{className:"HQ__menu",children:[Object(b.jsx)("div",{className:"HQ__item",onClick:function(){s.push("/clients")},children:Object(b.jsxs)("h2",{children:["  ",Object(b.jsxs)("a",{children:[" ",Object(b.jsx)(U.a,{})," My Clients "]})]})}),Object(b.jsx)("div",{className:"HQ__item",onClick:function(){s.push("/dailySubmission")},children:Object(b.jsxs)("h2",{children:["  ",Object(b.jsxs)("a",{children:[" ",Object(b.jsx)(U.a,{})," Workout Submission "]})]})}),Object(b.jsx)("div",{className:"HQ__item",onClick:function(){s.push("/analysis")},children:Object(b.jsx)("h2",{children:Object(b.jsxs)("a",{children:[" ",Object(b.jsx)(U.a,{})," Analysis "]})})}),Object(b.jsx)("div",{className:"HQ__item",onClick:function(){s.push("/history")},children:Object(b.jsx)("h2",{children:Object(b.jsxs)("a",{children:[" ",Object(b.jsx)(U.a,{})," History "]})})}),Object(b.jsx)("div",{className:"HQ__item",onClick:function(){s.push("/routines")},children:Object(b.jsx)("h2",{children:Object(b.jsxs)("a",{children:[" ",Object(b.jsx)(U.a,{})," My Routines "]})})})]})})})]})},Re=function(e){var t=e.message,n=e.color;return t?Object(b.jsx)("div",{style:{textAlign:"center",zIndex:"1",width:"100vw",position:"absolute",top:"0",backgroundColor:n},children:Object(b.jsx)("h1",{children:t})}):null},_e={register:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/users",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Ie={login:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/login",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Ee=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.login(t,n);case 2:return r=e.sent,v(r.token),r.isTrainer?(window.localStorage.setItem("clients",JSON.stringify(r.clients)),window.localStorage.setItem("loggedUser",JSON.stringify({isTrainer:r.isTrainer,token:r.token,username:r.username})),window.localStorage.setItem("routines",JSON.stringify(r.routines))):(window.localStorage.setItem("loggedUser",JSON.stringify({token:r.token,username:r.username,regIsSet:r.regIsSet})),window.localStorage.setItem("userWorkouts",JSON.stringify(r.days)),window.localStorage.setItem("currentRegiment",JSON.stringify(r.currentRegiment))),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Te=function(e){window.localStorage.removeItem("loggedUser"),window.localStorage.removeItem("userWorkouts"),window.localStorage.removeItem("currentRegiment"),window.localStorage.removeItem("clients"),window.localStorage.removeItem("routines"),e(null)};var De=function(){var e=Object(i.g)(),t=Object(r.useState)("Media/weightLiftingGirl.png"),n=Object(a.a)(t,2),c=n[0],s=n[1],l=Object(r.useState)(null),u=Object(a.a)(l,2),j=u[0],d=u[1],O=Object(r.useState)(null),p=Object(a.a)(O,2),f=p[0],g=p[1];return Object(r.useEffect)((function(){j&&setTimeout((function(){d(null)}),3e3)}),[j]),Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("loggedUser"));e&&(g(e),v(e.token))}),[]),Object(r.useEffect)((function(){s(f?"Media/weights_dark_flipped.jpeg":"Media/weightLiftingGirl.png")}),[f]),Object(b.jsxs)("div",{className:"App",style:{height:"100vh",backgroundImage:"url(".concat(c,")"),backgroundSize:"cover"},children:[j&&Object(b.jsx)(Re,{color:j.color,message:j.message}),f?Object(b.jsx)(b.Fragment,{children:f.isTrainer?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{user:f,logout:function(){Te(g)}}),Object(b.jsx)(Ne,{user:f,setUser:g,setNotification:d})]}):Object(b.jsx)(b.Fragment,{children:f.regIsSet?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{user:f,logout:function(){Te(g)}}),Object(b.jsx)(pe,{user:f,setUser:g,setNotification:d})]}):Object(b.jsx)(W,{user:f,setUser:g,setNotification:d})})}):Object(b.jsx)(o.TransitionGroup,{style:{height:"100%",display:"flex",justifyItems:"flex-start"},children:Object(b.jsx)(o.CSSTransition,{timeout:{enter:500,exit:200},children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:"/register",children:Object(b.jsx)(x,{setNotification:d,submitCredentials:_e.register})}),Object(b.jsx)(i.a,{path:"/",children:Object(b.jsx)(h,{setNotification:d,submitCredentials:Ee,setUser:g})})]})},e)})]})};n(382),n(383);s.a.render(Object(b.jsx)(d.a,{children:Object(b.jsx)(De,{})}),document.getElementById("root"))}},[[386,1,2]]]);
//# sourceMappingURL=main.9075f47a.chunk.js.map
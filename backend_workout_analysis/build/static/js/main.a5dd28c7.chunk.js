(this.webpackJsonpworkout_analysis=this.webpackJsonpworkout_analysis||[]).push([[0],{222:function(e,t,n){},379:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(41),c=n.n(i),s=(n(222),n(13)),o=n(24),a=n(43),l=n(19),u=n.n(l),d=n(30),x=n(32),j=n(2),p=function(e){var t=e.submitCredentials,n=e.setUser,i=Object(r.useState)(""),c=Object(s.a)(i,2),o=c[0],a=c[1],l=Object(r.useState)(""),p=Object(s.a)(l,2),h=p[0],b=p[1],g={width:"400px",padding:"0",marginBottom:"55px",border:"none",borderBottom:"1px solid black"};return Object(j.jsx)("form",{style:{paddingTop:"40px",display:"flex",alignItems:"center"},onSubmit:function(){var e=Object(d.a)(u.a.mark((function e(r){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t({username:o,password:h});case 3:i=e.sent,console.log(i),n(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(j.jsxs)("div",{style:{borderRadius:"0 20px 20px 0",backgroundColor:"white",padding:"90px 0 0 60px",height:"624px",width:"608px",marginRight:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsxs)("div",{style:{marginBottom:"50px",padding:"0px",display:"flex",flexDirection:"column",justifyItems:"flex-start"},children:[Object(j.jsx)("h1",{style:{marginBottom:"80px"},className:"HomeRoute a-routeFadeIn",children:"Log in."}),Object(j.jsx)("input",{style:g,value:o,placeholder:"Username",onChange:function(e){a(e.target.value)}}),Object(j.jsx)("input",{style:g,value:h,placeholder:"Password",onChange:function(e){b(e.target.value)}})]}),Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsx)("button",{style:{border:"none",borderRadius:"5px",backgroundColor:"#ff8933",width:"400px",height:"40px",padding:"5px"},children:"Log in"}),Object(j.jsxs)("p",{children:[" Don't have an account? ",Object(j.jsx)(x.b,{style:{color:"#ff8933"},to:"/register",children:" Sign up "})]})]})]})})},h=function(e){var t=e.submitCredentials,n=Object(o.f)(),i=Object(r.useState)(""),c=Object(s.a)(i,2),a=c[0],l=c[1],u=Object(r.useState)(""),d=Object(s.a)(u,2),p=d[0],h=d[1],b={width:"400px",padding:"0",marginBottom:"55px",border:"none",borderBottom:"1px solid black"};return Object(j.jsx)("form",{style:{paddingTop:"40px",display:"flex",alignItems:"center"},onSubmit:function(e){e.preventDefault(),t({username:a,password:p}),n.push("/")},children:Object(j.jsxs)("div",{style:{borderRadius:"0 20px 20px 0",backgroundColor:"white",padding:"90px 0 0 60px",height:"624px",width:"608px",marginRight:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsxs)("div",{style:{marginBottom:"50px",padding:"0px",display:"flex",flexDirection:"column",justifyItems:"flex-start"},children:[Object(j.jsx)("h1",{style:{width:"100%",marginBottom:"80px",textAlign:"left"},className:"HomeRoute a-routeFadeIn",children:" Register"}),Object(j.jsx)("input",{style:b,value:a,placeholder:"Username",onChange:function(e){l(e.target.value)}}),Object(j.jsx)("input",{style:b,value:p,placeholder:"Password",onChange:function(e){h(e.target.value)}})]}),Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsx)("button",{style:{border:"none",borderRadius:"5px",backgroundColor:"#ff8933",width:"400px",height:"40px",padding:"5px"},children:"Register"}),Object(j.jsxs)("p",{children:[" Have an account? ",Object(j.jsx)(x.b,{style:{color:"#ff8933"},to:"/",children:" Log in "})]})]})]})})},b=n(114),g=function(e){var t=e.user,n=e.logout,r=Object(o.f)();return t?Object(j.jsxs)("div",{style:{position:"fixed",display:"flex",alignItems:"center",height:"80px",width:"100%"},children:[Object(j.jsx)("h3",{style:{marginLeft:"80px",marginRight:"22px",color:"white"},children:t.username}),Object(j.jsx)("h3",{style:{paddingLeft:"22px",color:"white",borderLeft:"1px solid white",cursor:"pointer"},onClick:function(){n(),r.push("/")},children:Object(j.jsx)("a",{children:"Sign out"})})]}):Object(j.jsxs)(b.a,{style:{display:"flex",justifyContent:"center",backgroundColor:"#eeeeee",color:"black"},children:[Object(j.jsx)(b.a.Brand,{children:Object(j.jsx)("img",{style:{width:100},src:"https://svgsilh.com/svg_v2/1539614.svg"})}),Object(j.jsxs)(b.a.Text,{children:[Object(j.jsx)("h2",{style:{display:"inline"},children:"Welcome to "}),Object(j.jsx)("h2",{style:{color:"#ff8933",display:"inline"},children:"Fitness Express"})]})]})},f=n(21),m=n(54),O=n.n(m),y="/api/workout",w=null,v=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:w}},e.next=3,O.a.patch("".concat(y,"/regiment"),t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k={setToken:function(e){w="bearer ".concat(e)},sendWorkout:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:w}},console.log("response to ",t),e.next=4,O.a.post(y,t,n);case 4:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserWorkouts:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:w}},e.next=3,O.a.get(y,t);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setRegiment:v},S=n(34),C=function(e){var t=e.day,n=e.currentRegiment,i=e.setCurrentRegiment,c=Object(r.useState)(""),o=Object(s.a)(c,2),a=o[0],l=o[1];return Object(j.jsxs)("form",{style:{borderRadius:"5px",margin:"5px",display:"flex",flexDirection:"column"},onSubmit:function(e){e.preventDefault(),a.trim()&&(n[t].includes((a.charAt(0).toUpperCase()+a.slice(1)).trim())?console.log("you're already doing that today"):(i(Object(f.a)(Object(f.a)({},n),{},Object(S.a)({},t,n[t].concat((a.charAt(0).toUpperCase()+a.slice(1)).trim())))),l("")))},children:[Object(j.jsxs)("div",{style:{width:"120px",justifyContent:"center",alignItems:"center",borderRadius:"5px",display:"flex",flexDirection:"column"},children:[" ",Object(j.jsx)("h2",{style:{padding:"10px",borderRadius:"5px",color:"black"},children:t}),Object(j.jsx)("input",{style:{width:"120px"},value:a,name:t,placeholder:"exercise",onChange:function(e){" "!==e.target.value&&l(e.target.value)}}),Object(j.jsx)("button",{style:{marginTop:"5px",padding:"0px",width:"57px",height:"20px",border:"none",borderRadius:"5px",backgroundColor:"#FF8933"},type:"submit",children:"add"})]}),Object(j.jsx)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center",justifyContent:"space-between"}})]})},R=function(e){var t=e.currentRegiment,n=e.setCurrentRegiment,r=e.day;return Object(j.jsx)("div",{style:{padding:"10px",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(j.jsx)("ul",{style:{padding:"0",margin:"0",width:"100%",display:"flex",flexDirection:"column"},children:t[r].map((function(e,i){return Object(j.jsxs)("div",{style:{paddingTop:"4px",width:"100%",display:"flex",flexGrow:"1",flexDirection:"column"},children:[" ",Object(j.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",alignContent:"center",justifyContent:"center",justifyItems:"center"},children:[Object(j.jsx)("p",{style:{margin:"0",marginRight:"4px"},children:e}),Object(j.jsx)("button",{style:{border:"none",borderRadius:"5px",marginLeft:"auto"},type:"button",onClick:function(){return n(Object(f.a)(Object(f.a)({},t),{},Object(S.a)({},r,t[r].filter((function(t){return t!=e})))))},children:"remove"})]})]},"".concat(e).concat(i))}))})},r)},I=n(108),D=function(e){var t=e.user,n=e.setUser,i=e.currentRegiment,c=e.setCurrentRegiment,a=Object(r.useState)("hidden"),l=Object(s.a)(a,2),x=l[0],p=l[1],h=Object(o.f)(),b=function(){for(var e in i)if(i[e]&&0===i[e].length)return!0;return!1},g=function(){var e=Object(d.a)(u.a.mark((function e(){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b()){e.next=9;break}return e.next=3,k.setRegiment(i);case 3:r=e.sent,c=JSON.parse(window.localStorage.getItem("loggedUser")),n(Object(f.a)(Object(f.a)({},t),{},{regIsSet:!0})),window.localStorage.setItem("currentRegiment",JSON.stringify(r)),window.localStorage.setItem("loggedUser",JSON.stringify(Object(f.a)(Object(f.a)({},c),{},{regIsSet:!0}))),h.push("/");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b()?p("hidden"):p("visible")}),[i]),Object(j.jsxs)(I.a,{style:{height:"100%",overflow:"auto",alignItems:"center",borderRadius:"5px",backgroundColor:"white",display:"flex",flexDirection:"column"},children:[Object(j.jsxs)("div",{className:"HomeRoute a-routeFadeIn",style:{overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"20px",height:"100%",flexGrow:"1"},children:[Object(j.jsx)("h1",{children:"Fill out your weekly regiment"}),Object(j.jsx)("div",{style:{height:"100%",backgroundColor:"white",display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start"},children:Object.keys(i).map((function(e,t){return i[e]?Object(j.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsx)(C,{day:e,currentRegiment:i,setCurrentRegiment:c}),Object(j.jsx)(R,{day:e,setCurrentRegiment:c,currentRegiment:i},e)]},t):null}))})]}),Object(j.jsxs)("div",{style:{marginTop:"auto"},children:[Object(j.jsx)("button",{style:{backgroundColor:"#FF8933",visibility:x,width:"80px",height:"50px",borderRadius:"5px"},onClick:function(){g()},children:"Save"}),Object(j.jsx)("button",{style:{width:"80px",height:"50px",borderRadius:"5px",paddingRight:"0px",paddingLeft:"0px"},onClick:function(){h.push("/")},children:"Back"})]})]})},T=function(e){var t=e.currentRegiment,n=e.setCurrentRegiment,r=Object(o.f)();return Object(j.jsxs)("div",{style:{overflow:"auto"},children:[Object(j.jsx)(g,{}),Object(j.jsx)(I.a,{children:Object(j.jsxs)("form",{style:{backgroundColor:"white",margin:"40px",padding:"50px",borderRadius:"5px",display:"flex",flexDirection:"column",alignItems:"center"},children:[" ",Object(j.jsx)("h1",{style:{borderRadius:"20px",padding:"20px",fontWeight:"bold",color:"black",marginTop:"40px"},children:"Which days will you be working out on?"}),Object(j.jsx)("div",{style:{flexWrap:"wrap",marginTop:"20px",display:"flex",justifyContent:"center",justifyItems:"center"},children:Object.keys(t).map((function(e,r){return Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"150px",margin:"10px",padding:"10px",borderRadius:"5px",border:"1px solid black"},children:[Object(j.jsx)("h2",{children:e}),Object(j.jsx)("input",{className:"themedCheckbox",type:"checkbox",checked:t[e]||"",onChange:function(){var r;console.log(t),t[r=e]?n(Object(f.a)(Object(f.a)({},t),{},Object(S.a)({},r,null))):n(Object(f.a)(Object(f.a)({},t),{},Object(S.a)({},r,[])))}})]},r)}))}),Object(j.jsx)("button",{style:{height:"40px",marginTop:"20px",backgroundColor:"#FF8933",border:"none",borderRadius:"5px"},onClick:function(e){e.preventDefault(),r.push("/setTargetWorkout")},children:"Next"})]})})]})},W=function(e){var t=e.currentRegiment,n=e.setCurrentRegiment,i=e.user,c=e.setUser,s=Object(o.g)();return Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("currentRegiment"));n(e)}),[]),Object(j.jsx)(a.TransitionGroup,{style:{height:"100%",flexGrow:"1",display:"flex",flexDirection:"column"},children:Object(j.jsx)(a.CSSTransition,{timeout:{enter:500,exit:200},children:Object(j.jsxs)(o.c,{location:s,children:[Object(j.jsxs)(o.a,{path:"/setTargetWorkout",children:[" ",Object(j.jsx)(D,{user:i,setUser:c,currentRegiment:t,setCurrentRegiment:n}),")"]}),Object(j.jsxs)(o.a,{path:"/",children:[" ",Object(j.jsx)(T,{currentRegiment:t,setCurrentRegiment:n})]})]})},s)})},E=n(95),N=function(e){var t=[];return e.map((function(e){return e.exercises})).forEach((function(e){t.push.apply(t,Object(E.a)(e))})),t},B=function(e){return N(e).map((function(e){return e.name}))},L=function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},F=function(e,t,n,r){if("daily"===n||"monthly"===n){var i,c,s="daily"===n?function(e){return new Date(e.date).toDateString()}:function(e){return new Date(e.date).toLocaleDateString("default",{month:"long"})},o="reps"===r?function(e){return e.exercise.sets*e.exercise.reps}:function(e){return e.exercise.weight*e.exercise.sets*e.exercise.reps},a=[];if("reps"===r?e.filter((function(e){e.exercises.filter((function(e){return e.name==t})).forEach((function(t){a.push({date:e.date,exercise:t})}))})):e.filter((function(e){e.exercises.filter((function(e){return e.weight&&e.name==t})).forEach((function(t){a.push({date:e.date,exercise:t})}))})),0==a.length)return null;var l=[];return 1==a.length?(c=o(a[0]),[{timeProperty:i=s(a[0]),total:c}]):(a.forEach((function(e,t){0===t?(i=s(e),c=o(e)):i===s(e)?t!==a.length-1?c+=o(e):(c+=o(e),l.push({timeProperty:i,total:c})):(l.push({timeProperty:i,total:c}),i=s(e),c=o(e))})),l)}console.log("Interval is invalid")},A=function(e,t,n){var r=[],i=0;return"reps"===n?(e.map((function(e){e.exercises.filter((function(e){return e.name==t})).forEach((function(t){r.push({date:e.date,exercise:t})}))})),r.forEach((function(e){i+=e.exercise.reps*e.exercise.sets}))):(e.map((function(e){e.exercises.filter((function(e){return e.weight&&e.name==t})).forEach((function(t){r.push({date:e.date,exercise:t})}))})),r.forEach((function(e){i+=e.exercise.weight*e.exercise.reps*e.exercise.sets}))),0===i?null:[{timeProperty:"total",total:i||null}]},U=n(68),J=n(391),M=n(395),P=n(204),G=n(205),H=n(97),K=n(213),_=function(e){var t=e.analysis,n=e.dataKey,r=Object(j.jsxs)(J.a,{width:600,height:400,data:t,margin:{top:10,right:30,left:0,bottom:0},children:[Object(j.jsx)(M.a,{strokeDasharray:"10 10"}),Object(j.jsx)(P.a,{dataKey:"timeProperty"}),Object(j.jsx)(G.a,{}),Object(j.jsx)(H.a,{}),Object(j.jsx)(K.a,{type:"monotone",dataKey:n,stroke:"#8884d8",fill:"#8884d8"})]});return t?r:null},z=n(206),Y=function(e){var t=e.header,n=e.body,r=Object(o.f)();return Object(j.jsxs)("div",{style:{borderRadius:"5px",marginBottom:"57px",marginLeft:"20px",marginTop:"80px",padding:"40px",backgroundColor:"white",display:"flex",flexDirection:"column"},children:[Object(j.jsx)("h1",{style:{marginBottom:"57px"},children:Object(j.jsxs)("a",{onClick:function(){r.push("/")},children:[Object(j.jsx)(z.a,{style:{cursor:"pointer"}}),t]})}),n()]})},q=function(e){var t=e.workouts,n=B(t).filter((function(e,n){return B(t).indexOf(e)===n})),i=Object(r.useState)([]),c=Object(s.a)(i,2),o=c[0],a=c[1],l=Object(r.useState)(null),u=Object(s.a)(l,2),d=u[0],x=u[1],p=Object(r.useState)(null),h=Object(s.a)(p,2),b=h[0],g=h[1],f=Object(r.useState)(null),m=Object(s.a)(f,2),O=m[0],y=m[1],w=Object(r.useState)(null),v=Object(s.a)(w,2),k=v[0],S=v[1];if(Object(r.useEffect)((function(){"Daily"===b?(S(F(t,d||o[0],"daily","weight")),y(F(t,d||o[0],"daily","reps"))):"Monthly"===b?(S(F(t,d||o[0],"daily","weight")),y(F(t,d||o[0],"monthly","reps"))):(S(A(t,d||o[0],"weight")),y(A(t,d||o[0],"reps")))}),[d,b]),0===t.length)return Object(j.jsxs)("div",{style:{display:"flex",height:"100%"},children:[Object(j.jsx)(Y,{header:"Performance Analysis",body:function(){return null}}),Object(j.jsx)("div",{style:{marginTop:"80px",display:"flex",flexDirection:"column"},children:Object(j.jsxs)("div",{style:{marginBottom:"57px",overflowY:"auto",minWidth:"500px",padding:"0px 58px 36px 58px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.45)",borderRadius:"5px",backgroundColor:"white",marginLeft:"58px",marginRight:"58px"},children:[Object(j.jsx)("h2",{children:"It looks like you's never submitted an exercise!"}),Object(j.jsx)("h4",{style:{marginTop:"40px"},children:"After you submit one, you can start viewing your progress here, and get various performance stats."})]})})]});return Object(j.jsxs)("div",{style:{display:"flex",height:"100%"},children:[Object(j.jsx)(Y,{header:"Analyse",body:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{style:{marginTop:"20px"},onChange:function(e){a(n.filter((function(t){return t.toLowerCase().includes(e.target.value.toLowerCase())})))},placeholder:"exercise"}),o.length<5?Object(j.jsxs)("ul",{style:{marginTop:"30px",padding:"0px",display:"flex",flexDirection:"column",justifyContent:"center",justifyItems:"center",alignContent:"center"},children:[o.map((function(e,t){return Object(j.jsxs)("div",{style:{margin:"0px 5px 0px 10px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsx)("h5",{style:{color:"black"},children:e}),Object(j.jsxs)(U.a,{style:{borderRadius:"50px"},children:[Object(j.jsx)(U.a.Toggle,{children:"Analyse"}),Object(j.jsxs)(U.a.Menu,{children:[Object(j.jsx)(U.a.Item,{onClick:function(){g("Daily"),x(o[t])},children:" Daily"}),Object(j.jsx)(U.a.Item,{onClick:function(){g("Monthly"),x(o[t])},children:" Monthly"}),Object(j.jsx)(U.a.Item,{onClick:function(){g("All-Time"),x(o[t])},children:" All-Time"})]})]},"".concat(t,"Button"))]},t)}))," "]}):Object(j.jsx)("h6",{style:{margin:"40px 0 40px 0",color:"black"},children:"Too many suggestions to show!"})]})}}),O&&d&&Object(j.jsx)("div",{style:{marginTop:"80px",display:"flex",flexDirection:"column"},children:Object(j.jsxs)("div",{style:{overflowY:"auto",minWidth:"500px",padding:"36px 58px 36px 58px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.45)",borderRadius:"5px",backgroundColor:"white",marginLeft:"58px",marginRight:"58px",marginBottom:"57px"},children:[Object(j.jsx)("h2",{children:b}),Object(j.jsx)("h2",{children:"Total repetitions"}),Object(j.jsx)(_,{analysis:O,dataKey:"total"}),k&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Total weight lifted"}),Object(j.jsx)(_,{analysis:k,dataKey:"total"})]})]})})]})},Q=n(212),V=n(110),X=n(207),Z=function(e){var t=e.workout;if(t){var n=new Date(t.date),r=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes();return Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsx)("h1",{style:{backgroundColor:"",color:"black",padding:"10px",borderRadius:"20px",marginTop:"40px"},children:n.toDateString()+", "+n.getHours()+":"+r}),Object(j.jsx)(X.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{style:{backgroundColor:"black"},children:[Object(j.jsx)("th",{className:"col-1",children:Object(j.jsx)("h2",{style:{color:"cornflowerblue"},children:"Exercise"})}),Object(j.jsx)("th",{className:"col-1",children:Object(j.jsx)("h2",{style:{color:"cornflowerblue"},children:"Repetitions"})}),Object(j.jsx)("th",{className:"col-1",children:Object(j.jsx)("h2",{style:{color:"cornflowerblue"},children:"Sets"})}),Object(j.jsx)("th",{className:"col-1",children:Object(j.jsx)("h2",{style:{color:"cornflowerblue"},children:"Weight"})})]}),t.exercises.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"col-1",children:Object(j.jsx)("h3",{style:{color:"white"},children:e.name})}),Object(j.jsx)("td",{className:"col-1",children:Object(j.jsx)("h3",{style:{color:"white"},children:e.reps})}),Object(j.jsx)("td",{className:"col-1",children:Object(j.jsx)("h3",{style:{color:"white"},children:e.sets})}),Object(j.jsx)("td",{className:"col-1",children:Object(j.jsx)("h3",{style:{color:"white"},children:e.weight||0})})]},t)}))]})})]})}},$=n(210),ee=(n(379),function(e){var t=e.dateRange,n=e.setDateRange,r=e.workouts,i=e.callback;return Object(j.jsx)($.a,{onChange:function(e){n(e),i(r,e)},value:t,showNeighboringMonth:!0,locale:"en-US",selectRange:!0})}),te=function(e){var t=e.workouts,n=Object(r.useState)(""),i=Object(s.a)(n,2),c=i[0],o=i[1],a=Object(r.useState)(!1),l=Object(s.a)(a,2),u=l[0],d=l[1],x=Object(r.useState)(new Date),p=Object(s.a)(x,2),h=p[0],b=p[1],g=Object(r.useState)(t),f=Object(s.a)(g,2),m=f[0],O=f[1],y=function(e,t){if(u){var n=[];(function(e,t){var n=[];return e.forEach((function(e){new Date(e.date)>=t[0]&&new Date(e.date)<=t[1]&&n.push(e)})),n})(e,t).forEach((function(e){L(e.exercises,c).length>0&&n.push(e)})),O(n)}};if(Object(r.useEffect)((function(){u?y(t,h):O(t.map((function(e){if(0!==L(e.exercises,c).length)return e})).filter((function(e){return void 0!=e})))}),[c,u]),0===t.length)return Object(j.jsxs)("div",{style:{display:"flex",height:"100%"},children:[Object(j.jsx)(Y,{header:"My History",body:function(){return null}}),Object(j.jsx)("div",{style:{marginTop:"80px",display:"flex",flexDirection:"column"},children:Object(j.jsxs)("div",{style:{marginBottom:"57px",overflowY:"auto",minWidth:"500px",padding:"0px 58px 36px 58px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.45)",borderRadius:"5px",backgroundColor:"white",marginLeft:"58px",marginRight:"58px"},children:[Object(j.jsx)("h2",{children:"It looks like you's never submitted an exercise!"}),Object(j.jsx)("h4",{style:{marginTop:"40px"},children:"After you submit one, you can start viewing your past workouts here."})]})})]});return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{style:{display:"flex",height:"100%"},children:[Object(j.jsx)(Y,{header:"My History",body:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Search by name"}),Object(j.jsx)(Q.a,{style:{marginBottom:"40px"},onSubmit:function(e){e.preventDefault()},children:Object(j.jsx)(V.a,{type:"text",placeholder:"Search exercises",className:"mr-sm-2",onChange:function(e){o(e.target.value)}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{style:{marginRight:"20px",display:"inline"},children:"Filter by date"}),Object(j.jsx)("input",{type:"checkbox",value:u,onClick:function(){d(!u)}})," "]}),Object(j.jsx)(ee,{dateRange:h,setDateRange:b,workouts:t,callback:y})]})}}),Object(j.jsx)("div",{style:{marginTop:"80px",display:"flex",flexDirection:"column"},children:m&&m.length>0&&Object(j.jsx)("div",{style:{marginBottom:"57px",overflowY:"auto",minWidth:"500px",padding:"0px 58px 36px 58px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.45)",borderRadius:"5px",backgroundColor:"white",marginLeft:"58px",marginRight:"58px"},children:Object(j.jsx)("ul",{style:{height:"inherit",listStyleType:"none",backgroundColor:"white",borderRadius:"20px",display:"flex",flexDirection:"column"},children:m.map((function(e,t){return Object(j.jsx)("li",{children:Object(j.jsx)(Z,{workout:e})},t)}))})})})]})})},ne=n(209),re=function(e){var t=e.exercise,n=e.setExercise,r=t.weight?"#FF8933":"gray",i={width:"80px",marginLeft:"25px"};return Object(j.jsxs)("div",{style:{paddingBottom:"10px",marginTop:"10px",display:"flex"},children:[Object(j.jsx)("button",{style:{marginRight:"10px",marginBottom:"auto",border:"none",borderRadius:"5px",color:r},onClick:function(){n(Object(f.a)(Object(f.a)({},t),{},{weight:t.weight?null:1}))},children:"KG"})," ",Object(j.jsxs)("div",{style:i,children:[Object(j.jsx)("h5",{children:"Repetitions"}),Object(j.jsx)("input",{style:{width:"80px",textAlign:"left"},onChange:function(e){n(Object(f.a)(Object(f.a)({},t),{},Object(S.a)({},"reps",e.target.value)))},value:t.reps})]}),Object(j.jsxs)("div",{style:i,children:[Object(j.jsx)("h5",{children:"Sets"}),Object(j.jsx)("input",{style:{width:"80px",textAlign:"left"},onChange:function(e){n(Object(f.a)(Object(f.a)({},t),{},Object(S.a)({},"sets",e.target.value)))},value:t.sets})]}),t.weight&&Object(j.jsxs)("div",{style:i,children:[Object(j.jsx)("h5",{children:"Weight"}),Object(j.jsx)("input",{style:{width:"80px",textAlign:"left"},onChange:function(e){n(Object(f.a)(Object(f.a)({},t),{},Object(S.a)({},"weight",e.target.value)))},value:t.weight})," "]})]})},ie=n(208),ce=function(e){var t=e.exerciseArray,n=e.newWorkout,r=e.setNewWorkout,i=t[0].name;return Object(j.jsx)("div",{style:{marginTop:"80px",display:"flex",flexDirection:"column"},children:Object(j.jsxs)("div",{style:{minWidth:"500px",padding:"36px 58px 36px 58px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.45)",borderRadius:"5px",backgroundColor:"white",marginLeft:"58px",marginRight:"58px"},children:[Object(j.jsx)("h5",{children:"Title"}),Object(j.jsxs)("div",{style:{color:"#FF8933",marginBottom:"15px",display:"flex",alignItems:"center"},children:[Object(j.jsxs)("h3",{style:{display:"inline",color:"black"},children:[i," "]}),Object(j.jsx)("button",{style:{backgroundColor:"#FF8933",marginLeft:"auto",border:"none",borderRadius:"5px"},onClick:function(){r(n.map((function(e){return i===e[0].name?e.concat({name:i,reps:1,sets:1,weight:null}):e})))},children:"Add set"})]}),Object(j.jsx)("div",{style:{paddingBottom:"25px",borderBottom:"0.5px solid #C4C4C4"},children:t.map((function(e,c){return Object(j.jsxs)("div",{style:{display:"flex"},children:[" ",Object(j.jsx)(re,{exercise:e,setExercise:function(e){r(n.map((function(n){return i===n[0].name?t.map((function(t,n){return c===n?e:t})):n})))}}),t.length>1&&Object(j.jsx)("a",{onClick:function(){r(n.map((function(e){return i===e[0].name?t.filter((function(e,t){return t!=c})):e})))},children:Object(j.jsx)(ie.a,{style:{cursor:"pointer"}})})]},"".concat(e).concat(c))}))})]})})},se=function(e){var t=e.setWorkouts,n=e.daysExercises,i=Object(o.f)();if(!n)return Object(j.jsx)("div",{style:{display:"flex",height:"100%"},children:Object(j.jsx)(Y,{header:"My Exercises",body:function(){return Object(j.jsx)("p",{children:"No exercises for today :)"})}})});var c=Object(r.useState)([]),a=Object(s.a)(c,2),l=a[0],x=a[1],p=Object(r.useState)([]),h=Object(s.a)(p,2),b=h[0],g=h[1],f=Object(r.useState)([]),m=Object(s.a)(f,2),O=m[0],y=m[1],w=Object(r.useState)(null),v=Object(s.a)(w,2),S=v[0],C=v[1];console.log(b),Object(r.useEffect)((function(){g(n.map((function(e){return[{name:e,reps:1,sets:1}]}))),x(Object(E.a)(new Set(n)))}),[n]),Object(r.useEffect)((function(){x(Object(E.a)(new Set(n)))}),[]);var R=function(){var e=Object(d.a)(u.a.mark((function e(){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],b.forEach((function(e){e.forEach((function(e){n.push(e)}))})),!(n.length>0)){e.next=17;break}if(!(b.filter((function(e,t){return n[t]&&!0})).length>0)){e.next=14;break}return e.next=7,k.sendWorkout(n);case 7:r=e.sent,c=JSON.parse(window.localStorage.getItem("userWorkouts")),window.localStorage.setItem("userWorkouts",JSON.stringify(c.concat(r))),t(JSON.parse(window.localStorage.getItem("userWorkouts"))),i.push("/"),e.next=15;break;case 14:console.log("No valid entries");case 15:e.next=18;break;case 17:console.log("Couldn't find a single submitted exercise :/");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{style:{display:"flex",height:"100%"},children:[Object(j.jsx)(Y,{header:"My Exercises",body:function(){return Object(j.jsxs)(j.Fragment,{children:[l.map((function(e,t){return Object(j.jsxs)("div",{style:{height:"36px",display:"flex",alignItems:"center",justifyContent:"center",margin:"5px",borderRadius:"5px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.45)"},children:[Object(j.jsx)("a",{onClick:function(){C(e)},style:{width:"100%",cursor:"pointer",margin:0,marginLeft:"5px",marginRight:"20px"},children:e}),Object(j.jsx)("a",{style:{cursor:"pointer",padding:"5px",margin:0},onClick:function(){y(O.concat(e)),g(b.filter((function(t){return t[0].name!==e}))),x(l.filter((function(t){return e!==t})))},children:Object(j.jsx)(ne.a,{style:{marginLeft:"auto",marginRight:"15px"},onClick:function(){}})})]},"".concat(e).concat(t))})),O.length>0&&Object(j.jsx)("h5",{style:{marginTop:"auto",textAlign:"center"},children:"Removed"}),O.map((function(e){return Object(j.jsx)("div",{style:{cursor:"pointer",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"5px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.45)"},children:Object(j.jsx)("a",{onClick:function(){y(O.filter((function(t){return t!=e}))),g(b.concat([[{name:e,reps:1,sets:1,weight:null}]])),x(l.concat(e))},children:e})},e)})),Object(j.jsx)("button",{style:{borderRadius:"5px",border:"none",marginTop:"auto"},onClick:function(){return R(b)},children:"Submit"})]})}}),b.map((function(e,t){if(e[0].name===S)return Object(j.jsx)(ce,{exerciseArray:e,newWorkout:b,setNewWorkout:g,indexInArray:t},t)}))]})},oe=n(113),ae=function(e){var t=e.currentRegiment,n=e.setWorkouts,r=e.workouts,i=e.daysExercises,c=e.setDaysExercises,s={marginBottom:"40px",marginTop:"4px",display:"flex",alignItems:"center"},a={display:"inline",color:"white",cursor:"pointer"},l=Object(o.f)();return Object(j.jsxs)(o.c,{children:[Object(j.jsxs)(o.a,{exact:!0,path:"/",children:[Object(j.jsx)("div",{style:{height:"100%",display:"flex"},children:Object(j.jsxs)("div",{style:{marginLeft:"80px",marginTop:"150px",display:"flex",flexDirection:"column"},children:[Object(j.jsx)("div",{onClick:function(){l.push("/dailySubmission")},style:s,children:Object(j.jsx)("h2",{style:a,children:Object(j.jsxs)("a",{children:[" ",Object(j.jsx)(oe.a,{style:{color:"white"}})," Submit a Workout "]})})}),Object(j.jsx)("div",{onClick:function(){l.push("/history")},style:s,children:Object(j.jsx)("h2",{style:a,children:Object(j.jsxs)("a",{children:[" ",Object(j.jsx)(oe.a,{style:{color:"white"}})," My Workout History "]})})}),Object(j.jsx)("div",{onClick:function(){l.push("/analysis")},style:s,children:Object(j.jsx)("h2",{style:a,children:Object(j.jsxs)("a",{children:[" ",Object(j.jsx)(oe.a,{style:{color:"white"}})," Performance Analysis "]})})})]})}),r&&r.length>0?Object(j.jsx)("h1",{style:{position:"absolute",bottom:"0",marginBottom:"60px",marginLeft:"60px",color:"white"},children:" Welcome Back"}):Object(j.jsx)("h1",{style:{position:"absolute",bottom:"0",marginBottom:"60px",marginLeft:"60px",color:"white"},children:"Welcome!"})]}),Object(j.jsx)(o.a,{path:"/dailySubmission",children:Object(j.jsx)(se,{currentRegiment:t,setWorkouts:n,daysExercises:i,setDaysExercises:c})}),Object(j.jsx)(o.a,{path:"/history",children:Object(j.jsx)(te,{workouts:r})}),Object(j.jsx)(o.a,{path:"/analysis",style:{height:"100%"},children:Object(j.jsx)(q,{workouts:r})})]})},le={register:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"credentials"),e.next=3,O.a.post("/api/users",t);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ue={login:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.login(t,n);case 2:return r=e.sent,k.setToken(r.token),window.localStorage.setItem("loggedUser",JSON.stringify({token:r.token,username:r.username,regIsSet:r.regIsSet})),window.localStorage.setItem("userWorkouts",JSON.stringify(r.days)),window.localStorage.setItem("currentRegiment",JSON.stringify(r.currentRegiment)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var xe=function(){var e=Object(o.g)(),t=Object(r.useState)("Media/weightLiftingGirl.png"),n=Object(s.a)(t,2),i=n[0],c=n[1],l=Object(r.useState)(null),u=Object(s.a)(l,2),d=u[0],x=u[1],b=Object(r.useState)([]),f=Object(s.a)(b,2),m=f[0],O=f[1],y=Object(r.useState)({}),w=Object(s.a)(y,2),v=w[0],S=w[1],C=Object(r.useState)(null),R=Object(s.a)(C,2),I=R[0],D=R[1];return Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("loggedUser"));e&&(D(JSON.parse(window.localStorage.getItem("userWorkouts"))),x(e),k.setToken(e.token))}),[]),Object(r.useEffect)((function(){if(d){c("Media/weights_dark_flipped.jpeg"),D(JSON.parse(window.localStorage.getItem("userWorkouts")));var e=JSON.parse(window.localStorage.getItem("currentRegiment"));S(e)}else c("Media/weightLiftingGirl.png")}),[d]),Object(r.useEffect)((function(){d&&function(e,t){var n=(new Date).getDay();t(0===n?Object.values(e)[6]:Object.values(e)[n-1])}(v,O)}),[v]),Object(j.jsx)("div",{className:"App",style:{height:"100vh",backgroundImage:"url(".concat(i,")"),backgroundSize:"cover"},children:d?Object(j.jsx)(j.Fragment,{children:d.regIsSet?Object(j.jsxs)("div",{style:{height:"100%"},children:[Object(j.jsx)(g,{user:d,logout:function(){!function(e){window.localStorage.removeItem("loggedUser"),window.localStorage.removeItem("userWorkouts"),window.localStorage.removeItem("currentRegiment"),e(null)}(x)}}),Object(j.jsx)(ae,{currentRegiment:v,setWorkouts:D,workouts:I,daysExercises:m,setDaysExercises:O})]}):Object(j.jsx)(W,{currentRegiment:v,setCurrentRegiment:S,user:d,setUser:x})}):Object(j.jsx)(a.TransitionGroup,{style:{height:"100%",display:"flex",justifyItems:"flex-start"},children:Object(j.jsx)(a.CSSTransition,{timeout:{enter:500,exit:200},children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/register",children:Object(j.jsx)(h,{submitCredentials:le.register})}),Object(j.jsx)(o.a,{path:"/",children:Object(j.jsx)(p,{submitCredentials:de,setUser:x})})]})},e)})})};n(381),n(382);c.a.render(Object(j.jsx)(x.a,{children:Object(j.jsx)(xe,{})}),document.getElementById("root"))}},[[385,1,2]]]);
//# sourceMappingURL=main.a5dd28c7.chunk.js.map
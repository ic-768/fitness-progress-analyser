(this.webpackJsonpworkout_analysis=this.webpackJsonpworkout_analysis||[]).push([[0],{251:function(e,t,n){},412:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(42),i=n.n(c),s=(n(251),n(15)),o=n(26),a=n(40),l=n(21),u=n.n(l),j=n(34),d=n(38),x=n(2),b=function(e){var t=e.submitCredentials,n=e.setUser,c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],a=i[1],l=Object(r.useState)(""),b=Object(s.a)(l,2),h=b[0],p=b[1],g={margin:"20px"};return Object(x.jsxs)("form",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onSubmit:function(){var e=Object(j.a)(u.a.mark((function e(r){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t({username:o,password:h});case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(x.jsxs)("div",{style:{marginTop:"10vh",display:"flex",flexDirection:"column",backgroundColor:"rgba(100, 100, 100, 0.5)",borderRadius:"5px",padding:"20px",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)("h1",{className:"HomeRoute a-routeFadeIn",style:{color:"white"},children:"Log in"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{style:g,value:o,placeholder:"username",onChange:function(e){a(e.target.value)}}),Object(x.jsx)("input",{style:g,value:h,placeholder:"password",onChange:function(e){p(e.target.value)}})]}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{style:{width:"80px",height:"40px",padding:"5px"},children:"submit"})})]}),Object(x.jsxs)("h2",{className:"HomeRoute a-routeFadeIn",style:{marginTop:"auto",color:"white"},children:["New? ",Object(x.jsx)(d.b,{style:{color:"turquoise"},to:"/register",children:" Register "})]})]})},h=function(e){var t=e.submitCredentials,n=Object(o.f)(),c=Object(r.useState)(""),i=Object(s.a)(c,2),a=i[0],l=i[1],u=Object(r.useState)(""),j=Object(s.a)(u,2),b=j[0],h=j[1],p={margin:"20px"};return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onSubmit:function(e){e.preventDefault(),t({username:a,password:b}),n.push("/")},children:[Object(x.jsxs)("div",{style:{marginTop:"10vh",display:"flex",flexDirection:"column",backgroundColor:"rgba(100, 100, 100, 0.5)",borderRadius:"5px",padding:"20px",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)("h1",{className:"HomeRoute a-routeFadeIn",style:{color:"white"},children:"Register"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{style:p,value:a,placeholder:"username",onChange:function(e){l(e.target.value)}}),Object(x.jsx)("input",{style:p,value:b,placeholder:"password",onChange:function(e){h(e.target.value)}})]}),Object(x.jsx)("button",{style:{width:"80px",height:"40px",padding:"5px"},children:"submit"})]}),Object(x.jsxs)("h2",{className:"HomeRoute a-routeFadeIn",style:{color:"white",marginTop:"auto"},children:["Back to ",Object(x.jsx)(d.b,{style:{color:"turquoise"},to:"/",children:" Login "})]})]})})},p=n(59),g=n(96),f=n(125),O=function(e){var t=e.user,n=e.logout,c=Object(o.f)(),i=Object(r.useState)(!0),a=Object(s.a)(i,2),l=a[0],u=a[1],j={width:100};return t?Object(x.jsxs)(p.a,{style:{position:"fixed",width:"100%"},expanded:l,bg:"light",variant:"light",expand:"sm",children:[Object(x.jsx)(p.a.Brand,{onClick:function(){u(!1),c.push("/")},children:Object(x.jsx)("img",{style:j,src:"https://svgsilh.com/svg_v2/1539614.svg"})}),Object(x.jsx)(p.a.Text,{children:t.username}),Object(x.jsx)(p.a.Toggle,{onClick:function(){return u(!l&&"expanded")},"aria-controls":"basic-navbar-nav"}),Object(x.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(x.jsxs)(g.a,{className:"mr-auto",children:[Object(x.jsx)(g.a.Link,{onClick:function(){u(!1),c.push("/")},children:" Home"}),Object(x.jsx)(g.a.Link,{onClick:function(){u(!1),c.push("/analysis")},children:" Analysis"}),Object(x.jsx)(g.a.Link,{onClick:function(){u(!1),c.push("/history")},children:" History"}),Object(x.jsx)(g.a.Link,{onClick:function(){n(),c.push("/")},children:"Disconnect"})]})})]}):Object(x.jsxs)(p.a,{style:{display:"flex",justifyContent:"center",backgroundColor:"#eeeeee",color:"black"},children:[Object(x.jsx)(p.a.Brand,{children:Object(x.jsx)("img",{style:j,src:"https://svgsilh.com/svg_v2/1539614.svg"})}),Object(x.jsx)(p.a.Text,{children:Object(x.jsxs)("h2",{style:{color:"black"},children:["Welcome to Fitness Express! Next stop ",Object(x.jsx)(f.a,{size:"2em",color:"black"})," Gainsville!"]})})]})},m=n(20),y=n(27),v=n(61),w=n.n(v),k="/api/workout",C=null,S=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},e.next=3,w.a.patch("".concat(k,"/regiment"),t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R={setToken:function(e){C="bearer ".concat(e)},sendWorkout:function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},console.log("response to ",t),e.next=4,w.a.post(k,t,n);case 4:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserWorkouts:function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:C}},e.next=3,w.a.get(k,t);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setRegiment:S},I=n(39),D=function(e){var t=e.day,n=e.currentRegiment,c=e.setCurrentRegiment,i=Object(r.useState)(""),o=Object(s.a)(i,2),a=o[0],l=o[1];return n[t]?Object(x.jsxs)("form",{style:{borderRadius:"20px",margin:"5px",display:"flex",flexDirection:"column",border:"1px solid black",justifyContent:"center"},onSubmit:function(e){e.preventDefault(),a.trim()&&(n[t].includes((a.charAt(0).toUpperCase()+a.slice(1)).trim())?console.log("you're already doing that today"):(c(Object(m.a)(Object(m.a)({},n),{},Object(I.a)({},t,n[t].concat((a.charAt(0).toUpperCase()+a.slice(1)).trim())))),l("")))},children:[Object(x.jsxs)("div",{style:{borderRadius:"20px",backgroundColor:"#DDDDDD",display:"flex",flexDirection:"column"},children:[" ",Object(x.jsx)("h2",{style:{margin:"20px",color:"black"},children:t}),Object(x.jsx)("input",{value:a,name:t,placeholder:t,onChange:function(e){" "!==e.target.value&&l(e.target.value)}}),Object(x.jsx)("button",{type:"submit",children:"add"})]}),Object(x.jsx)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center",justifyContent:"space-between"}})]}):null},N=function(e){var t=e.currentRegiment,n=e.setCurrentRegiment,r=e.day;return Object(x.jsxs)("div",{style:{backgroundColor:"black",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"20px",border:"1px solid green",padding:"10px",margin:"10px"},children:[Object(x.jsx)("h2",{style:{color:"white"},children:r}),Object(x.jsxs)(a.TransitionGroup,{children:[" ",t[r].map((function(e,c){return Object(x.jsx)(a.CSSTransition,{classNames:"t-daySubmission",timeout:300,children:Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",marginTop:"10px"},children:[" ",Object(x.jsxs)("div",{style:{width:"100%",display:"flex",alignContent:"center",alignItems:"center"},children:[Object(x.jsx)("h5",{style:{color:"white",margin:"8px",marginRight:"20px"},children:e}),Object(x.jsx)("button",{style:{padding:"5px",marginLeft:"auto"},type:"button",onClick:function(){return n(Object(m.a)(Object(m.a)({},t),{},Object(I.a)({},r,t[r].filter((function(t){return t!=e})))))},children:Object(x.jsx)("h5",{style:{color:"white"},children:"remove"})})]})]})},c)}))]})]},r)},T=function(e){var t=e.user,n=e.setUser,c=e.currentRegiment,i=e.setCurrentRegiment,a=Object(r.useState)("hidden"),l=Object(s.a)(a,2),d=l[0],b=l[1],h=Object(o.f)(),p=function(){for(var e in c)if(c[e]&&0===c[e].length)return!0;return!1},g=function(){var e=Object(j.a)(u.a.mark((function e(){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p()){e.next=9;break}return e.next=3,R.setRegiment(c);case 3:r=e.sent,i=JSON.parse(window.localStorage.getItem("loggedUser")),n(Object(m.a)(Object(m.a)({},t),{},{regIsSet:!0})),window.localStorage.setItem("currentRegiment",JSON.stringify(r)),window.localStorage.setItem("loggedUser",JSON.stringify(Object(m.a)(Object(m.a)({},i),{},{regIsSet:!0}))),h.push("/");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){p()?b("hidden"):b("visible")}),[c]),Object(x.jsxs)("div",{className:"HomeRoute a-routeFadeIn",style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"20px",height:"100%"},children:[Object(x.jsxs)("div",{style:{marginBottom:"40px",padding:"0 40px 0 40px",borderRadius:"20px",backgroundColor:"white"},children:[Object(x.jsxs)("h1",{children:["Time to fill out your weekly regiment!  ",Object(x.jsx)(f.b,{})]}),Object(x.jsx)("h3",{children:"(Don't worry, you can reset it at any time)"})]}),Object(x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start"},children:[Object.keys(c).map((function(e,t){return Object(x.jsx)(D,{day:e,currentRegiment:c,setCurrentRegiment:i},t)})),Object(x.jsx)("div",{style:{marginBottom:"8px",alignItems:"center",position:"fixed",bottom:"0",flexWrap:"wrap",display:"flex",justifyContent:"center",justifyItems:"center",backgroundColor:"rgb(0,0,0,0.9)",borderRadius:"20px"},children:Object.keys(c).map((function(e){return c[e]?Object(x.jsx)(N,{day:e,setCurrentRegiment:i,currentRegiment:c},e):null}))})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)(y.a,{style:{backgroundColor:"green",visibility:d,marginBottom:"80px",width:"80px",height:"80px",borderRadius:"20px",paddingRight:"0px",paddingLeft:"0px"},onClick:function(){g()},children:Object(x.jsx)("h4",{children:"All set"})}),Object(x.jsx)(y.a,{style:{backgroundColor:"red",marginBottom:"80px",width:"80px",height:"80px",borderRadius:"20px",paddingRight:"0px",paddingLeft:"0px"},onClick:function(){h.push("/")},children:Object(x.jsx)("h4",{children:"Back"})})]})]})},W=n(216),E=n(126),A=function(e){var t=e.currentRegiment,n=e.setCurrentRegiment,r=Object(o.f)();return Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1"},className:"HomeRoute a-routeFadeIn",children:[Object(x.jsx)(O,{}),Object(x.jsx)(E.a,{style:{flexGrow:"1",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(x.jsxs)("form",{style:{padding:"50px",borderRadius:"20px",backgroundColor:"rgb(255,255,255,0.35)",display:"flex",flexDirection:"column",alignItems:"center"},children:[" ",Object(x.jsx)("h1",{style:{borderRadius:"20px",padding:"20px",backgroundColor:"rgb(255,255,255,0.95)",fontWeight:"bold",color:"black",marginTop:"40px"},children:"Which days will you be working out on?"}),Object(x.jsx)("div",{style:{flexWrap:"wrap",marginTop:"20px",display:"flex",justifyContent:"center",justifyItems:"center"},children:Object.keys(t).map((function(e,r){return Object(x.jsxs)("div",{style:{backgroundColor:t[e]?"rgb(0,200,0)":"rgb(172,100,100)",margin:"20px",borderRadius:"10px",border:"1px solid white",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)("h2",{style:{color:"white"},children:e}),Object(x.jsx)(W.a,{size:"lg",style:{backgroundColor:"white",borderRadius:"50%",margin:"20px"},checked:t[e],value:"",type:"checkbox",onChange:function(){var r;t[r=e]?n(Object(m.a)(Object(m.a)({},t),{},Object(I.a)({},r,null))):n(Object(m.a)(Object(m.a)({},t),{},Object(I.a)({},r,[])))}},r)]},r)}))}),Object(x.jsx)(y.a,{size:"lg",style:{marginTop:"20px",backgroundColor:"green"},onClick:function(e){e.preventDefault(),r.push("/setTargetWorkout")},children:"Next"})]})})]})},J=function(e){var t=e.currentRegiment,n=e.setCurrentRegiment,c=e.user,i=e.setUser,s=Object(o.g)();return Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("currentRegiment"));n(e)}),[]),Object(x.jsx)(a.TransitionGroup,{style:{flexGrow:"1",display:"flex",flexDirection:"column"},children:Object(x.jsx)(a.CSSTransition,{timeout:{enter:500,exit:200},children:Object(x.jsxs)(o.c,{location:s,children:[Object(x.jsxs)(o.a,{path:"/setTargetWorkout",children:[" ",Object(x.jsx)(T,{user:c,setUser:i,currentRegiment:t,setCurrentRegiment:n}),")"]}),Object(x.jsxs)(o.a,{path:"/",children:[" ",Object(x.jsx)(A,{currentRegiment:t,setCurrentRegiment:n})]})]})},s)})},L=n(76),F=function(e,t){var n=(new Date).getDay();0===n?t(Object.values(e)[6]):t(Object.values(e)[n-1])},G=function(e){var t=[];return e.map((function(e){return e.exercises})).map((function(e){t.push.apply(t,Object(L.a)(e))})),t},U=function(e){return G(e).map((function(e){return e.name}))},B=function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},H=function(e,t,n,r){if("daily"===n||"monthly"===n){var c,i,s="daily"===n?function(e){return new Date(e.date).toDateString()}:function(e){return new Date(e.date).toLocaleDateString("default",{month:"long"})},o="reps"===r?function(e){return e.exercise.sets*e.exercise.reps}:function(e){return e.exercise.weight*e.exercise.sets*e.exercise.reps},a=[];if("reps"===r?e.filter((function(e){e.exercises.filter((function(e){return e.name==t})).forEach((function(t){a.push({date:e.date,exercise:t})}))})):e.filter((function(e){e.exercises.filter((function(e){return e.weight&&e.name==t})).forEach((function(t){a.push({date:e.date,exercise:t})}))})),0==a.length)return null;var l=[];return 1==a.length?(i=o(a[0]),[{timeProperty:c=s(a[0]),total:i}]):(a.forEach((function(e,t){0===t?(c=s(e),i=o(e)):c===s(e)?t!==a.length-1?i+=o(e):(i+=o(e),l.push({timeProperty:c,total:i})):(l.push({timeProperty:c,total:i}),c=s(e),i=o(e))})),l)}console.log("Interval is invalid")},z=function(e,t,n){var r=[],c=0;return"reps"===n?(e.map((function(e){e.exercises.filter((function(e){return e.name==t})).forEach((function(t){r.push({date:e.date,exercise:t})}))})),r.forEach((function(e){c+=e.exercise.reps*e.exercise.sets}))):(e.map((function(e){e.exercises.filter((function(e){return e.weight&&e.name==t})).forEach((function(t){r.push({date:e.date,exercise:t})}))})),r.forEach((function(e){c+=e.exercise.weight*e.exercise.reps*e.exercise.sets}))),0===c?null:[{timeProperty:"total",total:c||null}]},K=n(234),M=n(78),P=n(241),_=n(418),q=n(422),Q=n(232),V=n(233),X=n(109),Y=n(242),Z=function(e){var t=e.analysis,n=e.dataKey,r=Object(x.jsxs)(_.a,{width:600,height:400,data:t,margin:{top:10,right:30,left:0,bottom:0},children:[Object(x.jsx)(q.a,{strokeDasharray:"10 10"}),Object(x.jsx)(Q.a,{dataKey:"timeProperty"}),Object(x.jsx)(V.a,{}),Object(x.jsx)(X.a,{}),Object(x.jsx)(Y.a,{type:"monotone",dataKey:n,stroke:"#8884d8",fill:"#8884d8"})]});return t?r:null},$=function(e){var t=e.workouts,n=U(t).filter((function(e,n){return U(t).indexOf(e)===n})),c=Object(r.useState)([]),i=Object(s.a)(c,2),o=i[0],a=i[1],l=Object(r.useState)(null),u=Object(s.a)(l,2),j=u[0],d=u[1],b=Object(r.useState)(null),h=Object(s.a)(b,2),p=h[0],g=h[1],f=Object(r.useState)(null),O=Object(s.a)(f,2),v=O[0],w=O[1],k=Object(r.useState)(null),C=Object(s.a)(k,2),S=C[0],R=C[1];return Object(r.useEffect)((function(){"Daily"===p?(R(H(t,j||o[0],"daily","weight")),w(H(t,j||o[0],"daily","reps"))):"Monthly"===p?(R(H(t,j||o[0],"daily","weight")),w(H(t,j||o[0],"monthly","reps"))):(R(z(t,j||o[0],"weight")),w(z(t,j||o[0],"reps")))}),[j,p]),0===t.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"It looks like you've never submitted a workout! "}),Object(x.jsx)("h3",{children:"After submitting one, you'll be able to start tracking your progress here."})]}):Object(x.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[v&&j&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{style:{color:"white",borderRadius:"50px",padding:"20px",backgroundColor:"black"},children:p}),Object(x.jsx)("h2",{children:"Total repetitions"}),Object(x.jsx)(Z,{analysis:v,dataKey:"total"}),S&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"Total weight lifted"}),Object(x.jsx)(Z,{analysis:S,dataKey:"total"})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{style:{marginTop:"20px"},onChange:function(e){a(n.filter((function(t){return t.toLowerCase().includes(e.target.value.toLowerCase())})))},placeholder:"exercise"}),Object(x.jsx)(P.a,{placement:"right",overlay:function(e){return Object(x.jsx)(K.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Start typing an exercise name! :)"}))},children:Object(x.jsx)(y.a,{size:"sm",variant:"primary",style:{marginLeft:"10px",borderRadius:"90%",backgroundImage:"linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(255,255,255,0.2) 39%,rgba(255,255,255,0.15) 11%,rgba(0,0,0,1))",width:"30px"},children:"?"})})]}),o.length<5?Object(x.jsxs)("ul",{style:{marginTop:"30px",padding:"0px",display:"flex",justifyContent:"center",justifyItems:"center",alignContent:"center"},children:[o.map((function(e,t){return Object(x.jsxs)("div",{style:{margin:"0px 5px 0px 10px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)("h5",{style:{color:"black"},children:e}),Object(x.jsxs)(M.a,{children:[Object(x.jsx)(M.a.Toggle,{children:"Analyse"}),Object(x.jsxs)(M.a.Menu,{children:[Object(x.jsx)(M.a.Item,{onClick:function(){g("Daily"),d(o[t])},children:" Daily"}),Object(x.jsx)(M.a.Item,{onClick:function(){g("Monthly"),d(o[t])},children:" Monthly"}),Object(x.jsx)(M.a.Item,{onClick:function(){g("All-Time"),d(o[t])},children:" All-Time"})]})]},"".concat(t,"Button"))]},t)}))," "]}):Object(x.jsx)("h2",{style:{margin:"40px 0 40px 0",color:"black"},children:"Too many suggestions to show!"})]})},ee=n(240),te=n(131),ne=n(235),re=function(e){var t=e.workout;if(t){var n=new Date(t.date),r=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes();return Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)("h1",{style:{backgroundColor:"",color:"black",padding:"10px",borderRadius:"20px",marginTop:"40px"},children:n.toDateString()+", "+n.getHours()+":"+r}),Object(x.jsx)(ne.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{style:{backgroundColor:"black"},children:[Object(x.jsx)("th",{className:"col-1",children:Object(x.jsx)("h2",{style:{color:"cornflowerblue"},children:"Exercise"})}),Object(x.jsx)("th",{className:"col-1",children:Object(x.jsx)("h2",{style:{color:"cornflowerblue"},children:"Repetitions"})}),Object(x.jsx)("th",{className:"col-1",children:Object(x.jsx)("h2",{style:{color:"cornflowerblue"},children:"Sets"})}),Object(x.jsx)("th",{className:"col-1",children:Object(x.jsx)("h2",{style:{color:"cornflowerblue"},children:"Weight"})})]}),t.exercises.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"col-1",children:Object(x.jsx)("h3",{style:{color:"white"},children:e.name})}),Object(x.jsx)("td",{className:"col-1",children:Object(x.jsx)("h3",{style:{color:"white"},children:e.reps})}),Object(x.jsx)("td",{className:"col-1",children:Object(x.jsx)("h3",{style:{color:"white"},children:e.sets})}),Object(x.jsx)("td",{className:"col-1",children:Object(x.jsx)("h3",{style:{color:"white"},children:e.weight||0})})]},t)}))]})})]})}},ce=function(e){var t=e.workouts,n=Object(r.useState)(t),c=Object(s.a)(n,2),i=c[0],o=c[1];return 0===t.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"It looks like you've never submitted a workout! "}),Object(x.jsx)("h3",{children:"After submitting one, you can start viewing your fitness history."})]}):Object(x.jsxs)("div",{style:{paddingTop:"20px ",display:"flex",flexGrow:"1",flexDirection:"column"},children:[Object(x.jsx)(ee.a,{onSubmit:function(e){e.preventDefault()},children:Object(x.jsx)(te.a,{type:"text",placeholder:"Search exercises",className:"mr-sm-2",onChange:function(e){!function(e,t){o(e.map((function(e){if(0!==B(e.exercises,t).length)return e})).filter((function(e){return void 0!=e})))}(t,e.target.value)}})}),i.length>0&&Object(x.jsx)("ul",{style:{height:"inherit",listStyleType:"none",backgroundColor:"white",borderRadius:"20px",margin:"10px",padding:"20px",border:"2px solid black",display:"flex",flexDirection:"column"},children:i.map((function(e,t){return Object(x.jsx)("li",{children:Object(x.jsx)(re,{workout:e})},t)}))})]})},ie=n(167),se=n(140),oe=function(e){var t=e.exercise,n=e.setExercise,r=e.property,c="weight"==r?.5:1,i={margin:"10px",height:"60px",width:"60px",borderRadius:"50%"};return Object(x.jsxs)("div",{style:{alignItems:"center",margin:"5px",backgroundColor:"white",borderRadius:"30px",display:"flex",flexDirection:"column"},children:[Object(x.jsx)(y.a,{style:i,onClick:function(){open&&n(Object(m.a)(Object(m.a)({},t),{},Object(I.a)({},r,t[r]+c)))},children:Object(x.jsx)("h1",{children:"+"})}),Object(x.jsx)("input",{style:{textAlign:"center"},onChange:function(e){n(Object(m.a)(Object(m.a)({},t),{},Object(I.a)({},r,e.target.value)))},value:t[r]}),Object(x.jsx)(y.a,{style:i,onClick:function(){open&&n(Object(m.a)(Object(m.a)({},t),{},Object(I.a)({},r,t[r]-c||1)))},children:Object(x.jsx)("h1",{children:"-"})}),Object(x.jsx)("h3",{children:r})]})},ae=n(132),le=n(236),ue=n(237);function je(e){var t=e.children,n=e.eventKey,r=e.open,c=e.setOpen,i=Object(ae.b)(n,(function(){return c(!r)}));return Object(x.jsx)(y.a,{style:{color:"white",backgroundColor:r?"red":"green"},onClick:i,children:t})}var de=function(e){var t=e.newWorkout,n=e.setNewWorkout,c=e.indexInArray,i=e.exerciseName,o=Object(r.useState)({name:i,reps:1,sets:1,weight:null}),a=Object(s.a)(o,2),l=a[0],u=a[1],j=l.weight?"black":"red",d=Object(r.useState)(!1),b=Object(s.a)(d,2),h=b[0],p=b[1];return console.log(t),Object(r.useEffect)((function(){if(t[c]!=l){var e=Object(L.a)(t);e[c]=l,n(e)}}),[t]),Object(r.useEffect)((function(){if(l)if(t.length>0){var e=Object(L.a)(t);e[c]=l,n(e)}else n([l])}),[l]),Object(x.jsx)("div",{children:Object(x.jsx)(ie.a,{children:Object(x.jsxs)(se.a,{children:[Object(x.jsxs)(se.a.Header,{style:{border:"none",width:"100%"},children:[Object(x.jsxs)("h3",{style:{color:"black"},children:[i," "]}),Object(x.jsx)(je,{open:h,setOpen:p,eventKey:"0",children:h?Object(x.jsx)(le.a,{}):Object(x.jsx)(ue.a,{})}),Object(x.jsx)(y.a,{style:{color:j},onClick:function(){u(Object(m.a)(Object(m.a)({},l),{},{weight:l.weight?null:1})),console.log(l)},children:"KG"})]}),Object(x.jsx)(ie.a.Collapse,{eventKey:"0",children:Object(x.jsx)(se.a.Body,{style:{borderRadius:"20px",backgroundColor:"rgb(0,0,0,0.8)",display:"flex"},children:l&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(oe,{exercise:l,setExercise:u,property:"reps"}),Object(x.jsx)(oe,{exercise:l,setExercise:u,property:"sets"}),l.weight&&Object(x.jsx)(oe,{exercise:l,setExercise:u,property:"weight"})]})})})]})})})},xe=function(e){var t=e.currentRegiment,n=e.setWorkouts,c=e.daysExercises,i=e.setDaysExercises,a=Object(L.a)(new Set(c)),l=Object(o.f)();if(!c)return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"No exercises for today! Get some rest :)"}),Object(x.jsx)("button",{onClick:function(){l.push("/")},children:"Home"})]});var d=Object(r.useState)([]),b=Object(s.a)(d,2),h=b[0],p=b[1],g=Object(r.useState)([]),f=Object(s.a)(g,2),O=f[0],m=f[1],y=function(){var e=Object(j.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("newWorkout is",h),!(h.length>0)){e.next=16;break}if(!(h.filter((function(e,t){return h[t]&&!0})).length>0)){e.next=13;break}return e.next=6,R.sendWorkout(h);case 6:t=e.sent,r=JSON.parse(window.localStorage.getItem("userWorkouts")),window.localStorage.setItem("userWorkouts",JSON.stringify(r.concat(t))),n(JSON.parse(window.localStorage.getItem("userWorkouts"))),l.push("/"),e.next=14;break;case 13:console.log("No valid entries");case 14:e.next=17;break;case 16:console.log("Couldn't find a single submitted exercise :/");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[O.map((function(e){return Object(x.jsx)("div",{onClick:function(){m(O.filter((function(t){return t!=e}))),i(c.concat(e))},children:e},e)})),Object(x.jsx)("h2",{style:{marginTop:"30px",marginBottom:"80px"},children:"Today's exercises"}),Object(x.jsx)("ul",{style:{display:"flex",flexWrap:"wrap"},children:a.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{onClick:function(){i(c.concat(e))},children:" Add set "}),Object(x.jsx)("button",{onClick:function(){p(h.filter((function(t){return t==e}))),m(O.concat(e)),i(c.filter((function(t){return e!==t})))},children:" Remove "}),c.map((function(t,n){if(t==e)return Object(x.jsx)("div",{children:Object(x.jsx)(de,{newWorkout:h,setNewWorkout:p,exerciseName:t,indexInArray:n})},"".concat(n," ").concat(t))}))]},e)}))}),Object(x.jsx)("button",{onClick:function(){m([]),F(t,i),p([])},children:" reset "})," ",Object(x.jsx)("button",{onClick:function(){return y(h)},children:"submit!"}),Object(x.jsx)("button",{onClick:function(){l.push("/")},children:"Home"})]})},be=n(166),he=n(238),pe=function(e){var t=e.currentRegiment,n=e.setWorkouts,r=e.workouts,c=e.daysExercises,i=e.setDaysExercises,s=Object(o.f)();return Object(x.jsx)("div",{style:{display:"inline",flexDirection:"column"},children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/dailySubmission",children:Object(x.jsx)(xe,{currentRegiment:t,setWorkouts:n,daysExercises:c,setDaysExercises:i})}),Object(x.jsx)(o.a,{path:"/history",children:Object(x.jsx)(ce,{workouts:r})}),Object(x.jsx)(o.a,{path:"/analysis",style:{height:"100%"},children:Object(x.jsx)($,{workouts:r})}),Object(x.jsx)(o.a,{path:"/",children:Object(x.jsxs)("div",{style:{height:"100%",flexGrow:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)("h1",{style:{padding:"20px",borderRadius:"20px",backgroundColor:"black",color:"white",marginTop:"40px",marginBottom:"40px"},children:"Welcome!"}),Object(x.jsxs)("div",{style:{height:"100%",flexGrow:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",backgroundColor:"cornflowerblue",borderRadius:"38px"},children:[Object(x.jsxs)("div",{style:{height:"100%",width:"190px",margin:"40px",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(x.jsx)("h3",{style:{marginTop:"50px"},children:"Performance"}),Object(x.jsx)(y.a,{style:{width:"180px",height:"180px",borderRadius:"50%"},variant:"dark",onClick:function(){s.push("/analysis")},children:Object(x.jsx)(be.b,{size:"150px"})})]}),Object(x.jsxs)("div",{style:{height:"100%",width:"190px",margin:"40px",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(x.jsx)("h3",{style:{whiteSpace:"nowrap"},children:"Submit Workout"}),Object(x.jsx)(y.a,{style:{width:"180px",height:"180px",borderRadius:"50%"},variant:"dark",onClick:function(){s.push("/dailySubmission")},children:Object(x.jsx)(be.a,{size:"150px"})})]}),Object(x.jsxs)("div",{style:{height:"100%",width:"190px",margin:"40px",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(x.jsx)("h3",{style:{marginTop:"50px",color:"black"},children:"History"}),Object(x.jsx)(y.a,{style:{width:"180px",height:"180px",borderRadius:"50%"},variant:"dark",onClick:function(){s.push("/history")},children:Object(x.jsx)(he.a,{size:"150px"})})]})]}),Object(x.jsx)("div",{})]})]})})]})})},ge={register:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"credentials"),e.next=3,w.a.post("/api/users",t);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe={login:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oe=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.login(t,n);case 2:return r=e.sent,R.setToken(r.token),window.localStorage.setItem("loggedUser",JSON.stringify({token:r.token,username:r.username,regIsSet:r.regIsSet})),window.localStorage.setItem("userWorkouts",JSON.stringify(r.days)),window.localStorage.setItem("currentRegiment",JSON.stringify(r.currentRegiment)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var me=function(){var e=Object(o.g)(),t=Object(r.useState)(null),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Object(r.useState)([]),u=Object(s.a)(l,2),j=u[0],d=u[1],p=Object(r.useState)({}),g=Object(s.a)(p,2),f=g[0],m=g[1],y=Object(r.useState)(),v=Object(s.a)(y,2),w=v[0],k=v[1];return Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("loggedUser"));e&&(k(JSON.parse(window.localStorage.getItem("userWorkouts"))),i(e),R.setToken(e.token))}),[]),Object(r.useEffect)((function(){if(c){k(JSON.parse(window.localStorage.getItem("userWorkouts")));var e=JSON.parse(window.localStorage.getItem("currentRegiment"));m(e)}}),[c]),Object(r.useEffect)((function(){c&&F(f,d)}),[f]),Object(x.jsx)("div",{className:"App",style:{display:"flex",flexDirection:"column",height:"100vh",backgroundImage:"url(/Media/kicking.jpg)"},children:c?Object(x.jsx)(x.Fragment,{children:c.regIsSet?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O,{user:c,logout:function(){!function(e){window.localStorage.removeItem("loggedUser"),window.localStorage.removeItem("userWorkouts"),window.localStorage.removeItem("currentRegiment"),e(null)}(i)}}),Object(x.jsx)(E.a,{style:{height:"100%",marginTop:"120px",overflow:"auto",backgroundColor:"rgb(255,255,255,0.94",flexGrow:"1",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(x.jsx)(pe,{currentRegiment:f,setWorkouts:k,workouts:w,daysExercises:j,setDaysExercises:d})})]}):Object(x.jsx)(J,{currentRegiment:f,setCurrentRegiment:m,user:c,setUser:i})}):Object(x.jsx)("div",{style:{backgroundImage:"url(/Media/kicking.jpg",height:"100%",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:Object(x.jsx)(a.TransitionGroup,{style:{flexGrow:"1",display:"flex",flexDirection:"column"},children:Object(x.jsx)(a.CSSTransition,{timeout:{enter:500,exit:200},children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/register",children:Object(x.jsx)(h,{submitCredentials:ge.register})}),Object(x.jsx)(o.a,{path:"/",children:Object(x.jsx)(b,{submitCredentials:Oe,setUser:i})})]})},e)})})})};n(408),n(409);i.a.render(Object(x.jsx)(d.a,{children:Object(x.jsx)(me,{})}),document.getElementById("root"))}},[[412,1,2]]]);
//# sourceMappingURL=main.e8b2ec8c.chunk.js.map